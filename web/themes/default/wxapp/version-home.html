{template 'common/header'}
<div class="we7-page-title">首页</div>
<div class="welcome-container" id="js-wxapp-home-welcome" ng-controller="WxappWelcomeCtrl" ng-cloak>
	<div class="panel we7-panel wxapp-target">
		<div class="panel-heading">昨日关键指标</div>
		<div class="panel-body we7-padding-vertical">
			<div class="col-sm-3 text-center">
				<div class="title">打开次数</div>
				<div>
					<span class="today" ng-bind="daily_visittrend.yesterday.session_cnt">100</span>
				</div>
			</div>
			<div class="col-sm-3 text-center">
				<div class="title">访问次数</div>
				<div>
					<span class="today" ng-bind="daily_visittrend.yesterday.visit_pv">2000</span>
				</div>
			</div>
			<div class="col-sm-3 text-center">
				<div class="title">访问人数</div>
				<div>
					<span class="today" ng-bind="daily_visittrend.yesterday.visit_uv">10</span>
				</div>
			</div>
			<div class="col-sm-3 text-center">
				<div class="title">新用户数</div>
				<div>
					<span class="today" ng-bind="daily_visittrend.yesterday.visit_uv_new">101</span>
				</div>
			</div>
		</div>
	</div>
	<div class="panel we7-panel wxapp-procedure hidden">
		<div class="panel-body">
			<div class="procedure-diagram">
				<img src="./resource/images/wxapp-procedure-diagram.png" alt="" />
			</div>
		</div>
	</div>
	<div class="panel we7-panel">
		<div class="panel-heading">
			公告
			<a href="./index.php?c=article&a=notice-show" target="_blank" class="pull-right color-default">更多</a>
		</div>
		<ul class="list-group">
			<li class="list-group-item" ng-repeat="notice in notices" ng-if="notices">
				<a ng-href="{{notice.url}}" class="text-over" target="_blank" ng-bind="notice.title"></a>
				<span class="time pull-right color-gray" ng-bind="notice.createtime"></span>
			</li>
			<li class="list-group-item text-center" ng-if="!notices">
				<span>暂无数据</span>
			</li>
		</ul>
	</div>
</div>
<script>
	angular.module('wxApp').value('config', {
		notices: {php echo !empty($notices) ? json_encode($notices) : 'null'},
	});
	angular.bootstrap($('#js-wxapp-home-welcome'), ['wxApp']);
</script>
{template 'common/footer'}