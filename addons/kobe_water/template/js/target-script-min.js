!function(){!function(){function e(r){var a=function(o){if(o.match(/^\.{1,2}\//)&&(o=i(r,o)),t(v,o)){var a=v[o];if(a.__isLoading&&b){var d=r?r.id:"<root>";console.log("module '"+o+"' recursively require()d from '"+d+"', problem?")}return r.moduleIdsRequired.push(o),a.exports}if(!t(w,o)){var d=r?r.id:"<root>";s("module '"+o+"' not found from '"+d+"', must be define()'d first")}var m=w[o][0],l=w[o][1],a=n(o),c=e(a);v[o]=a,a.__isLoading=!0;try{r.moduleIdsRequired.push(o);for(var u=[],p=0;p<l.length;p++){var h,f=l[p];h="require"==f?c:"exports"==f?a.exports:"module"==f?a:c(f),u.push(h)}if("function"==typeof m){var g=m.apply(null,u);g&&(a.exports=g)}else a.exports=m}finally{a.__isLoading=!1}return a.exports};return a.define=o,a.implementation=f,a.version=g,a}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e){return{id:e,uri:e,exports:{},prereqIds:[],moduleIdsRequired:[]}}function r(){v={},w={},S=n(null);var t=e(S),r=o;r("modjewel",p),y.modjewel=t("modjewel"),y.modjewel.require=t,y.modjewel.define=r,y.modjewel.define.amd={implementation:f,version:g}}function o(e,n,r){var o=["require","exports","module"];return"string"!=typeof e?void console.log("modjewel.define(): first parameter must be a string; was: "+e):(2==arguments.length&&(r=n,n=null),n&&0!=n.length||(n=o),"function"!=typeof r?r?void(w[e]=[r,n]):void console.log("modjewel.define(): factory was falsy: "+r):e.match(/^\./)?void console.log("modjewel.define(): moduleId must not start with '.': '"+moduleName+"'"):t(w,e)?void console.log("modjewel.define(): module '"+e+"' has already been defined"):void(w[e]=[r,n]))}function a(e){if(!e||!e.id)return"";var t=e.id.split("/");return t.slice(0,t.length-1).join("/")}function i(e,t){for(var n=a(e),r=""==n?[]:n.split("/"),o=t.split("/"),i=0;i<o.length;i++){var s=o[i];"."==s||(".."==s?r.length>0&&r.pop():r.push(s))}return r.join("/")}function s(e){throw new Error(f+": "+e)}function d(){var e=[];for(moduleId in v)e.push(moduleId);return e}function m(){var e=[];for(moduleId in w)e.push(moduleId);return e}function l(e){return null==e?S:v[e]}function c(e){var t=l(e);return null==t?null:t.moduleIdsRequired.slice()}function u(e){return 0==arguments.length?b:void(b=!!e)}function p(e,t,n){t.VERSION=g,t.require=null,t.define=null,t.getLoadedModuleIds=d,t.getPreloadedModuleIds=m,t.getModule=l,t.getModuleIdsRequired=c,t.warnOnRecursiveRequire=u}function h(e){console.log("modjewel: "+e)}var f="modjewel",g="2.0.0",y=this;if(y.modjewel)return void h("modjewel global variable already defined");y.modjewel=null;var v,w,S,b=!1;r()}(),modjewel.require("modjewel").warnOnRecursiveRequire(!0),modjewel.define("weinre/common/Binding",function(e,t,n){var r,o;o=e("./Ex"),n.exports=r=function(){function e(e,t){if(!e)throw new o(arguments,"receiver argument for Binding constructor was null");if("string"==typeof t&&(t=e[t]),typeof t===!1)throw new o(arguments,"method argument didn't specify a function");return function(){return t.apply(e,[].slice.call(arguments))}}return e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/Callback",function(e,t,n){var r,o,a,i,s;s=e("./Ex"),a={},o=1,i="???",n.exports=r=function(){function t(){throw new s(arguments,"this class is not intended to be instantiated")}return t.setConnectorChannel=function(e){return i=""+e},t.register=function(e){var t,n,r,d;if("function"==typeof e&&(e=[null,e]),"function"!=typeof e.slice)throw new s(arguments,"callback must be an array or function");if(d=e[0],n=e[1],t=e.slice(2),"string"==typeof n&&(n=d[n]),"function"!=typeof n)throw new s(arguments,"callback function was null or not found");return r=i+"::"+o,o++,o>=4294967296&&(o=1),a[r]=[d,n,t],r},t.deregister=function(e){return delete a[e]},t.invoke=function(n,r){var o,i,d,m,l;if(o=a[n],!o)throw new s(arguments,"callback "+n+" not registered or already invoked");l=o[0],d=o[1],r=o[2].concat(r);try{return d.apply(l,r)}catch(c){return i=c,m=d.name||d.signature,m||(m="<unnamed>"),e("./Weinre").logError(arguments.callee.signature+(" exception invoking callback: "+m+"("+r.join(",")+"): ")+i)}finally{t.deregister(n)}},t}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/Debug",function(e,t,n){var r;n.exports=new(r=function(){function e(){this._printCalledArgs={}}return e.prototype.log=function(e){var t;return t=window.console.__original||window.console,t.log(""+this.timeStamp()+": "+e)},e.prototype.logCall=function(e,t,n,r,o){var a,i;return o=o?": "+o:"",i=this.signature(t,n),a=this._printCalledArgs[i],r=a?JSON.stringify(r,null,4):"",this.log(""+e+" "+i+"("+r+")"+o)},e.prototype.logCallArgs=function(e,t){return this._printCalledArgs[this.signature(e,t)]=!0},e.prototype.signature=function(e,t){return""+e+"."+t},e.prototype.timeStamp=function(){var e,t,n;return e=new Date,t=""+e.getMinutes(),n=""+e.getSeconds(),1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),""+t+":"+n},e}())}),modjewel.define("weinre/common/EventListeners",function(e,t,n){var r,o,a;o=e("./Ex"),a=e("./Weinre"),n.exports=r=function(){function e(){this.listeners=[]}return e.prototype.add=function(e,t){return this.listeners.push([e,t])},e.prototype.remove=function(e,t){var n,r,o,a;for(n=this.listeners.slice(),r=0,o=n.length;o>r;r++)if(a=n[r],a[0]===e&&a[1]===t)return void this._listeners.splice(i,1)},e.prototype.fire=function(e){var t,n,r,i,s,d;for(r=this.listeners.slice(),d=[],i=0,s=r.length;s>i;i++)if(n=r[i],n=n[0],"function"!=typeof n){if("function"!=typeof(null!=n?n.handleEvent:void 0))throw new o(arguments,"listener does not implement the handleEvent() method");try{d.push(n.handleEvent.call(n,e))}catch(m){t=m,d.push(a.logError(""+arguments.callee.name+" invocation exception: "+t))}}else try{n.call(null,e)}catch(m){t=m,a.logError(""+arguments.callee.name+" invocation exception: "+t)}return d},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/Ex",function(e,t,n){var r,o,a;o=e("./StackTrace"),n.exports=r=function(){function e(t,n){if(!t||!t.callee)throw e(arguments,"first parameter must be an Arguments object");o.dump(t),n instanceof Error&&(n="threw error: "+n),n=a(t,n)}return e.catching=function(e){var t;try{return e.call(this)}catch(n){return t=n,console.log("runtime error: "+t),o.dump(arguments)}},e}(),a=function(e,t){return e.callee.signature?e.callee.signature+": "+t:e.callee.displayName?e.callee.displayName+": "+t:e.callee.name?e.callee.name+": "+t:"<anonymous>: "+t},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/HookLib",function(e,t,n){var r,o,a,i,s,d,m,l,c;r=t,a=[],i=0,n.exports=r=function(){function e(){}return e.addHookSite=function(e,t){return l(e,t,!0)},e.getHookSite=function(e,t){return l(e,t,!1)},e.ignoreHooks=function(e){var t;try{i++,t=e.call()}finally{i--}return t},e}(),l=function(e,t,n){var r,i,s,d;for(i=0,s=0,d=a.length;d>s;s++)if(r=a[s],r.object===e&&r.property===t)return r;return n?(r=new o(e,t),a.push(r),r):null},o=function(){function e(e,t){var n;this.object=e,this.property=t,this.target=e[t],this.hookss=[],"undefined"!=typeof this.target&&(n=c(this.target,this),(!navigator.userAgent.match(/MSIE/i)||e!==localStorage&&e!==sessionStorage)&&(e[t]=n))}return e.prototype.addHooks=function(e){return this.hookss.push(e)},e.prototype.removeHooks=function(e){var t,n,r;for(t=n=0,r=this.hookss.length;r>=0?r>=n:n>=r;t=r>=0?++n:--n)if(this.hookss[t]===e)return void this.hookss.splice(t,1)},e}(),c=function(e,t){var n;return n=function(){var n,r;d(t,this,arguments);try{r=e.apply(this,arguments)}catch(o){throw n=o,m(t,this,arguments,n),n}finally{s(t,this,arguments,r)}return r},n.displayName=e.displayName||e.name,n},d=function(e,t,n){var r,o,a,s,d;if(!(i>0)){for(s=e.hookss,d=[],o=0,a=s.length;a>o;o++)r=s[o],r.before?d.push(r.before.call(r,t,n)):d.push(void 0);return d}},s=function(e,t,n,r){var o,a,s,d,m;if(!(i>0)){for(d=e.hookss,m=[],a=0,s=d.length;s>a;a++)o=d[a],o.after?m.push(o.after.call(o,t,n,r)):m.push(void 0);return m}},m=function(e,t,n,r){var o,a,s,d,m;if(!(i>0)){for(d=e.hookss,m=[],a=0,s=d.length;s>a;a++)o=d[a],o.except?m.push(o.except.call(o,t,n,r)):m.push(void 0);return m}},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/IDGenerator",function(e,t,n){var r,o,a,i;i=1,o="__weinre__id",n.exports=r=function(){function e(){}return e.checkId=function(e){return e[o]},e.getId=function(t,n){var r;return r=e.checkId(t),r||(r=a(),t[o]=r),n&&(n[r]=t),r},e.next=function(){return a()},e}(),a=function(){var e;return e=i,i+=1,e},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/IDLTools",function(e,t,n){var r,o,a,i,s;o=e("./Ex"),r=e("./Callback"),i={},n.exports=a=function(){function t(){throw new o(arguments,"this class is not intended to be instantiated")}return t.addIDLs=function(e){var t,n,r,o,a;for(a=[],r=0,o=e.length;o>r;r++)t=e[r],a.push(function(){var e,r,o,a;for(o=t.interfaces,a=[],e=0,r=o.length;r>e;e++)n=o[e],i[n.name]=n,a.push(n.module=t.name);return a}());return a},t.getIDL=function(e){return i[e]},t.getIDLsMatching=function(e){var t,n,r;r=[];for(n in i)t=i[n],n.match(e)&&r.push(t);return r},t.validateAgainstIDL=function(n,r){var a,i,s,d,m,l,c,u,p,h,f,g,y,v;if(d=t.getIDL(r),l="IDL validation for "+r+": ",null===d)throw new o(arguments,l+("idl not found: '"+r+"'"));for(s=[],y=d.methods,p=0,f=y.length;f>p;p++)m=y[p],a=n.prototype[m.name],c=n.name+"::"+m.name,null!==a?a.length===m.parameters.length||a.length===m.parameters.length+1||s.push(l+("wrong number of parameters: '"+c+"'")):s.push(l+("method not implemented: '"+c+"'"));for(u in n.prototype)n.prototype.hasOwnProperty(u)||u.match(/^_.*/)||(c=n.name+"::"+u,d.methods[u]||s.push(l+("method should not be implemented: '"+c+"'")));if(s.length){for(v=[],h=0,g=s.length;g>h;h++)i=s[h],v.push(e("./Weinre").logError(i));return v}},t.buildProxyForIDL=function(e,n){var r,a,i,d,m,l,c;if(r=t.getIDL(n),i="building proxy for IDL "+n+": ",null===r)throw new o(arguments,i+("idl not found: '"+n+"'"));for(l=r.methods,c=[],d=0,m=l.length;m>d;d++)a=l[d],c.push(e[a.name]=s(r,a));return c},t}(),s=function(e,t){var n,o;return o=n=function(){var n,o;for(o=null,n=[].slice.call(arguments),n.length>0&&"function"==typeof n[n.length-1]&&(o=r.register(n[n.length-1]),n=n.slice(0,n.length-1));n.length<t.parameters.length;)n.push(null);return n.push(o),this.__invoke(e.name,t.name,n)},o.displayName=e.name+"__"+t.name,o},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/MessageDispatcher",function(e,t,n){var r,o,a,i,s,d,m,l,c,u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};c=e("./Weinre"),l=e("./WebSocketXhr"),i=e("./IDLTools"),r=e("./Binding"),a=e("./Ex"),o=e("./Callback"),m=!1,s=null,n.exports=d=function(){function e(e,t){t||(t="anonymous"),this._url=e,this._id=t,this.error=null,this._opening=!1,this._opened=!1,this._closed=!1,this._interfaces={},this._open()}return e.setInspectorBackend=function(e){return s=e},e.verbose=function(e){return arguments.length>=1&&(m=!!e),m},e.prototype._open=function(){if(!this._opened&&!this._opening){if(this._closed)throw new a(arguments,"socket has already been closed");return this._opening=!0,this._socket=new l(this._url,this._id),this._socket.addEventListener("open",r(this,"_handleOpen")),this._socket.addEventListener("error",r(this,"_handleError")),this._socket.addEventListener("message",r(this,"_handleMessage")),this._socket.addEventListener("close",r(this,"_handleClose"))}},e.prototype.close=function(){return this._closed?void 0:(this._opened=!1,this._closed=!0,this._socket.close())},e.prototype.send=function(e){return this._socket.send(e)},e.prototype.getWebSocket=function(){return this._socket},e.prototype.registerInterface=function(e,t,n){if(n&&i.validateAgainstIDL(t.constructor,e),this._interfaces[e])throw new a(arguments,"interface "+e+" has already been registered");return this._interfaces[e]=t},e.prototype.createProxy=function(e){var t,n,r;return t={},i.buildProxyForIDL(t,e),n=this,t.__invoke=r=function(e,t,r){return n._sendMethodInvocation(e,t,r)},t},e.prototype._sendMethodInvocation=function(e,t,n){var r;if("string"!=typeof e)throw new a(arguments,"expecting intf parameter to be a string");if("string"!=typeof t)throw new a(arguments,"expecting method parameter to be a string");return r={"interface":e,method:t,args:n},r=JSON.stringify(r),this._socket.send(r),m?c.logDebug(this.constructor.name+("["+this._url+"]: send "+e+"."+t+"("+JSON.stringify(n)+")")):void 0},e.prototype.getState=function(){return this._opening?"opening":this._opened?"opened":this._closed?"closed":"unknown"},e.prototype.isOpen=function(){return this._opened===!0},e.prototype._handleOpen=function(e){return this._opening=!1,this._opened=!0,this.channel=e.channel,o.setConnectorChannel(this.channel),m?c.logDebug(this.constructor.name+("["+this._url+"]: opened")):void 0},e.prototype._handleError=function(e){return this.error=e,this.close(),m?c.logDebug(this.constructor.name+("["+this._url+"]: error: ")+e):void 0},e.prototype._handleMessage=function(e){var t,n,r,o,i,d,l,p,h;h=["domContentEventFired","loadEventFired","childNodeRemoved"];try{n=JSON.parse(e.data)}catch(f){throw r=f,new a(arguments,"invalid JSON data received: "+r+": '"+e.data+"'")}if(i=n["interface"],l=n.method,t=n.args,p=""+i+"."+l+"()",o=this._interfaces.hasOwnProperty(i)&&this._interfaces[i],!o&&s&&i.match(/.*Notify/)&&(o=s.getRegisteredDomainDispatcher(i.substr(0,i.length-6))),!o)return void c.notImplemented("weinre: request for non-registered interface: "+p);if(p=o.constructor.name+("."+l+"()"),d=o[l],"function"!=typeof d)return void c.notImplemented(p);try{d.apply(o,t)}catch(f){r=f,u.call(h,l)<0&&c.logError("weinre: invocation exception on "+p+": "+r)}return m?c.logDebug(this.constructor.name+("["+this._url+"]: recv "+i+"."+l+"("+JSON.stringify(t)+")")):void 0},e.prototype._handleClose=function(){return this._reallyClosed=!0,m?c.logDebug(this.constructor.name+("["+this._url+"]: closed")):void 0},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/MethodNamer",function(e,t,n){var r,o={}.hasOwnProperty;n.exports=r=function(){function e(){}return e.setNamesForClass=function(e){var t,n,r,a;for(t in e)o.call(e,t)&&(n=e[t],"function"==typeof n&&(n.signature=""+e.name+"::"+t,n.displayName=t,n.name=t));r=e.prototype,a=[];for(t in r)o.call(r,t)&&(n=r[t],"function"==typeof n?(n.signature=""+e.name+"."+t,n.displayName=t,a.push(n.name=t)):a.push(void 0));return a},e}(),r.setNamesForClass(n.exports)}),modjewel.define("weinre/common/StackTrace",function(e,t,n){var r,o;n.exports=r=function(){function e(e){if(!e||!e.callee)throw Error("first parameter to "+arguments.callee.signature+" must be an Arguments object");this.trace=o(e)}return e.dump=function(t){var n;return t=t||arguments,n=new e(t),n.dump()},e.prototype.dump=function(){var e,t,n,r,o;for(console.log("StackTrace:"),r=this.trace,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(console.log("    "+e));return o},e}(),o=function(e){var t,n,r,o;for(r=[],o=[],n=e.callee;n;){if(n.signature?r.push(n.signature):n.displayName?r.push(n.displayName):n.name?r.push(n.name):r.push("<anonymous>"),-1!==o.indexOf(n))return r.push("... recursion"),r;o.push(n);try{n=n.caller}catch(a){t=a,n=null}}return r},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/WebSocketXhr",function(e,t,n){var r,o,a,i,s,d;o=e("./Ex"),s=e("./Weinre"),a=e("./HookLib"),r=e("./EventListeners"),n.exports=i=function(){function e(e,t){this.initialize(e,t)}return e.CONNECTING=0,e.OPEN=1,e.CLOSING=2,e.CLOSED=3,e.prototype.initialize=function(t,n){return n||(n="anonymous"),this.readyState=e.CONNECTING,this._url=t,this._id=n,this._urlChannel=null,this._queuedSends=[],this._sendInProgress=!0,this._listeners={open:new r,message:new r,error:new r,close:new r},this._getChannel()},e.prototype._getChannel=function(){var e;return e=JSON.stringify({id:this._id}),this._xhr(this._url,"POST",e,this._handleXhrResponseGetChannel)},e.prototype._handleXhrResponseGetChannel=function(t){var n,r;if(200!==t.status)return this._handleXhrResponseError(t);try{r=JSON.parse(t.responseText)}catch(o){return n=o,this._fireEventListeners("error",{message:"non-JSON response from channel open request"}),void this.close()}return r.channel?(this._urlChannel=this._url+"/"+r.channel,this.readyState=e.OPEN,this._fireEventListeners("open",{message:"open",channel:r.channel}),this._sendInProgress=!1,this._sendQueued(),this._readLoop()):(this._fireEventListeners("error",{message:"channel open request did not include a channel"}),void this.close())},e.prototype._readLoop=function(){return this.readyState!==e.CLOSED&&this.readyState!==e.CLOSING?this._xhr(this._urlChannel,"GET","",this._handleXhrResponseGet):void 0},e.prototype._handleXhrResponseGet=function(t){var n,r,o,i,s,d,m;if(i=this,200!==t.status)return this._handleXhrResponseError(t);try{r=JSON.parse(t.responseText)}catch(l){return o=l,this.readyState=e.CLOSED,void this._fireEventListeners("error",{message:"non-JSON response from read request"})}for(a.ignoreHooks(function(){return setTimeout(function(){return i._readLoop()},0)}),m=[],s=0,d=r.length;d>s;s++)n=r[s],m.push(i._fireEventListeners("message",{data:n}));return m},e.prototype.send=function(e){if("string"!=typeof e)throw new o(arguments,this.constructor.name+".send");return this._queuedSends.push(e),this._sendInProgress?void 0:this._sendQueued()},e.prototype._sendQueued=function(){var t;if(0!==this._queuedSends.length&&this.readyState!==e.CLOSED&&this.readyState!==e.CLOSING)return t=JSON.stringify(this._queuedSends),this._queuedSends=[],this._sendInProgress=!0,this._xhr(this._urlChannel,"POST",t,this._handleXhrResponseSend)},e.prototype._handleXhrResponseSend=function(e){var t;return t=this,200!==e.status?this._handleXhrResponseError(e):(this._sendInProgress=!1,a.ignoreHooks(function(){return setTimeout(function(){return t._sendQueued()},0)}))},e.prototype.close=function(){return this._sendInProgress=!0,this.readyState=e.CLOSING,this._fireEventListeners("close",{message:"closing",wasClean:!0}),this.readyState=e.CLOSED},e.prototype.addEventListener=function(e,t,n){return this._getListeners(e).add(t,n)},e.prototype.removeEventListener=function(e,t,n){return this._getListeners(e).remove(t,n)},e.prototype._fireEventListeners=function(t,n){return this.readyState!==e.CLOSED?(n.target=this,this._getListeners(t).fire(n)):void 0},e.prototype._getListeners=function(e){var t;if(t=this._listeners[e],null===t)throw new o(arguments,"invalid event listener type: '"+e+"'");return t},e.prototype._handleXhrResponseError=function(e){return 404===e.status?void this.close():(this._fireEventListeners("error",{target:this,status:e.status,message:"error from XHR invocation: "+e.statusText}),s.logError("error from XHR invocation: "+e.status+": "+e.statusText))},e.prototype._xhr=function(e,t,n,r){var i;if(null===r)throw new o(arguments,"handler must not be null");return i=XMLHttpRequest.noConflict?new XMLHttpRequest.noConflict:new XMLHttpRequest,i.httpSocket=this,i.httpSocketHandler=r,i.onreadystatechange=function(){return d(i)},a.ignoreHooks(function(){return i.open(t,e,!0)}),i.setRequestHeader("Content-Type","text/plain"),a.ignoreHooks(function(){return i.send(n)})},e}(),d=function(e){return 4===e.readyState?e.httpSocketHandler.call(e.httpSocket,e):void 0},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/common/Weinre",function(e,t,n){var r,o,a,i,s,d,m,l,c,u;o=e("./Ex"),a=e("./IDLTools"),i=e("./StackTrace"),c={},u=!1,l=null,n.exports=s=function(){function e(){throw new o(arguments,"this class is not intended to be instantiated")}return e.addIDLs=function(e){return a.addIDLs(e)},e.deprecated=function(){return i.dump(arguments)},e.notImplemented=function(t){return!c[t]&&(c[t]=!0,u)?e.logWarning(t+" not implemented"):void 0},e.showNotImplemented=function(){var t,n;u=!0,n=[];for(t in c)n.push(e.logWarning(t+" not implemented"));return n},e.logError=function(e){return m().logError(e)},e.logWarning=function(e){return m().logWarning(e)},e.logInfo=function(e){return m().logInfo(e)},e.logDebug=function(e){return m().logDebug(e)},e}(),r=function(){function e(){}return e.prototype.logError=function(e){return console.log("error: "+e)},e.prototype.logWarning=function(e){return console.log("warning: "+e)},e.prototype.logInfo=function(e){return console.log("info: "+e)},e.prototype.logDebug=function(e){return console.log("debug: "+e)},e}(),d=new r,m=function(){return l?l:s.client?l=s.WeinreClientCommands:s.target?l=s.WeinreTargetCommands:d},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/BrowserHacks",function(e,t,n){var r;(r=function(){return"undefined"==typeof document.addEventListener?void alert("Oops. It seems the page runs in compatibility mode. Please fix it and try again."):("undefined"==typeof window.Element&&(window.Element=function(){}),"undefined"==typeof window.Node&&(window.Node=function(){}),void(Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(!e.__proto__)throw new Error("This vm does not support __proto__ and getPrototypeOf. Script requires any of them to operate correctly.");return e.__proto__})))})()}),modjewel.define("weinre/target/CheckForProblems",function(e,t,n){var r,o;n.exports=r=function(){function e(){}return e.check=function(){return o()},e}(),o=function(){var e;return e=!1,"undefined"!=typeof Prototype&&Prototype.Version?(Prototype.Version.match(/^1\.5.*/)&&(e=!0),Prototype.Version.match(/^1\.6.*/)&&(e=!0),e?alert("Sorry, weinre is not support in versions of Prototype earlier than 1.7"):void 0):void 0},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/Console",function(e,t,n){var r,o,a,i,s,d,m,l,c;c=e("../common/Weinre"),m=e("../target/Timeline"),l=!1,d=null,s=null,a={HTML:0,WML:1,XML:2,JS:3,CSS:4,Other:5},i={Log:0,Object:1,Trace:2,StartGroup:3,StartGroupCollapsed:4,EndGroup:5,Assert:6,UncaughtException:7,Result:8},o={Tip:0,Log:1,Warning:2,Error:3,Debug:4},n.exports=r=function(){function e(){}return Object.defineProperty(e,"original",{get:function(){return s}}),e.useRemote=function(e){var t;return 0===arguments.length?l:(t=l,l=!!e,l?window.console=d:window.console=s,t)},e.prototype._generic=function(e,t){var n,r,o,s,d,m;for(n=t[0].toString(),o=[],d=0,m=t.length;m>d;d++)r=t[d],o.push(c.injectedScript.wrapObjectForConsole(r,!0));return s={source:a.JS,type:i.Log,level:e,message:n,parameters:o},c.wi.ConsoleNotify.addConsoleMessage(s)},e.prototype.log=function(){return this._generic(o.Log,[].slice.call(arguments))},e.prototype.debug=function(){return this._generic(o.Debug,[].slice.call(arguments))},e.prototype.error=function(){return this._generic(o.Error,[].slice.call(arguments))},e.prototype.info=function(){return this._generic(o.Log,[].slice.call(arguments))},e.prototype.warn=function(){return this._generic(o.Warning,[].slice.call(arguments))},e.prototype.dir=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.dirxml=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.trace=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.assert=function(e){return c.notImplemented(arguments.callee.signature)},e.prototype.count=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.markTimeline=function(e){return m.addRecord_Mark(e)},e.prototype.lastWMLErrorMessage=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.profile=function(e){return c.notImplemented(arguments.callee.signature)},e.prototype.profileEnd=function(e){return c.notImplemented(arguments.callee.signature)},e.prototype.time=function(e){return c.notImplemented(arguments.callee.signature)},e.prototype.timeEnd=function(e){return c.notImplemented(arguments.callee.signature)},e.prototype.group=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.groupCollapsed=function(){return c.notImplemented(arguments.callee.signature)},e.prototype.groupEnd=function(){return c.notImplemented(arguments.callee.signature)},e}(),d=new r,s=window.console||{},d.__original=s,s.__original=s,e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/CSSStore",function(e,t,n){var r,o,a,i,s,d,m,l,c,u;o=e("../common/IDGenerator"),a=e("../common/Weinre"),i=null,n.exports=r=function(){function e(){this.styleSheetMap={},this.styleRuleMap={},this.styleDeclMap={},this.testElement=document.createElement("div")}return e.prototype.getInlineStyle=function(e){var t,n,r,o,a;for(n=this._buildMirrorForStyle(e.style,!0),a=n.cssProperties,r=0,o=a.length;o>r;r++)t=a[r],t.status="style";return n},e.prototype.getComputedStyle=function(e){var t;return e?e.nodeType!==Node.ELEMENT_NODE?{}:t=this._buildMirrorForStyle(window.getComputedStyle(e),!1):{}},e.prototype.getMatchedCSSRules=function(e){var t,n,r,o,a,s,d,m,l,c,u;o=[];try{for(c=document.styleSheets,s=0,m=c.length;m>s;s++)if(a=c[s],a.cssRules)for(u=a.cssRules,d=0,l=u.length;l>d;d++)t=u[d],i(e,t.selectorText)&&(r={},r.ruleId=this._getStyleRuleId(t),r.selectorText=t.selectorText,r.style=this._buildMirrorForStyle(t.style,!0),o.push(r))}catch(p){return n=p,o}return o},e.prototype.getStyleAttributes=function(e){var t;return t={}},e.prototype.getPseudoElements=function(e){var t;return t=[]},e.prototype.setPropertyText=function(e,t,n,r){var o,i,s,d,m,l,c,u;if(u=a.cssStore._getStyleDecl(e),!u)return a.logWarning("requested style not available: "+e),null;if(d=u.__weinre__mirror,!d)return a.logWarning("requested mirror not available: "+e),null;if(m=d.cssProperties,c=this._parseProperty(n),null===c)this._removePropertyFromMirror(d,t),m=d.cssProperties;else{for(this._removePropertyFromMirror(d,t),m=d.cssProperties,l={},i=0;i<m.length;)l[m[i].name]=i,i++;for(i=0;i<c.cssProperties.length;)null!=l[c.cssProperties[i].name]?m[l[c.cssProperties[i].name]]=c.cssProperties[i]:m.push(c.cssProperties[i]),i++;for(s in c.shorthandValues)d.shorthandValues[s]=c.shorthandValues[s]}return m.sort(o=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),this._setStyleFromMirror(u),d},e.prototype._removePropertyFromMirror=function(e,t){var n,r,o,a;if(o=e.cssProperties,!(t>=o.length)){if(a=o[t],o[t]=null,e.shorthandValues[a.name])for(delete e.shorthandValues[a.name],n=0;n<o.length;)o[n]&&o[n].shorthandName===a.name&&(o[n]=null),n++;for(r=[],n=0;n<o.length;)o[n]&&r.push(o[n]),n++;return e.cssProperties=r}},e.prototype.toggleProperty=function(e,t,n){var r,o,i;return(i=a.cssStore._getStyleDecl(e))?(o=i.__weinre__mirror)?(r=o.cssProperties[t])?(n?r.status="disabled":r.status="active",this._setStyleFromMirror(i),o):(a.logWarning("requested property not available: "+e+": "+t),null):(a.logWarning("requested mirror not available: "+e),null):(a.logWarning("requested style not available: "+e),null)},e.prototype._setStyleFromMirror=function(e){var t,n,r,o,a;for(n=[],t=e.__weinre__mirror.cssProperties,n="",o=0,a=t.length;a>o;o++)r=t[o],r.parsedOk&&"disabled"!==r.status&&(r.shorthandName||(n+=r.name+": "+r.value,n+="important"===r.priority?" !important; ":"; "));return e.cssText=n},e.prototype._buildMirrorForStyle=function(e,t){var n,r,o,a,i,s;if(i={properties:{},cssProperties:[]},!e)return i;if(t&&(i.styleId=this._getStyleDeclId(e),e.__weinre__mirror=i),i.properties.width=e.getPropertyValue("width")||"",i.properties.height=e.getPropertyValue("height")||"",i.cssText=e.cssText,i.shorthandValues={},o=[],e)for(n=0;n<e.length;)a={},r=e.item(n),a.name=r,a.priority=e.getPropertyPriority(r),a.implicit="undefined"!=typeof e.isPropertyImplicit?e.isPropertyImplicit(r):!0,a.shorthandName="undefined"!=typeof e.getPropertyShorthand?e.getPropertyShorthand(r)||"":"",a.status=a.shorthandName?"style":"active",a.parsedOk=!0,a.value=e.getPropertyValue(r),o.push(a),a.shorthandName&&(s=a.shorthandName,i.shorthandValues[s]||(i.shorthandValues[s]=e.getPropertyValue(s),a={},a.name=s,a.priority=e.getPropertyPriority(s),a.implicit=e.isPropertyImplicit(s),a.shorthandName="",a.status="active",a.parsedOk=!0,a.value=e.getPropertyValue(r),o.push(a))),n++;return o.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),i.cssProperties=o,i},e.prototype._parseProperty=function(e){var t,n,r,o,a;a=this.testElement.style;try{if(a.cssText=e,""!==a.cssText)return this._buildMirrorForStyle(a,!1)}catch(i){}return r=/\s*(.+)\s*:\s*(.+)\s*(!important)?\s*;/,(t=r.exec(e))?(t[3]="!important"===t[3]?"important":"",n={},n.name=t[1],n.priority=t[3],n.implicit=!0,n.shorthandName="",n.status="inactive",n.parsedOk=!1,n.value=t[2],o={},o.width=0,o.height=0,o.shorthandValues=0,o.cssProperties=[n],o):null},e.prototype._getStyleSheet=function(e){return m(e,this.styleSheetMap)},e.prototype._getStyleSheetId=function(e){return d(e,this.styleSheetMap)},e.prototype._getStyleRule=function(e){return m(e,this.styleRuleMap)},e.prototype._getStyleRuleId=function(e){return d(e,this.styleRuleMap)},e.prototype._getStyleDecl=function(e){return m(e,this.styleDeclMap)},e.prototype._getStyleDeclId=function(e){return d(e,this.styleDeclMap)},e}(),m=function(e,t){return t[e]},d=function(e,t){return o.getId(e,t)},l=function(e,t){return e.mozMatchesSelector?e.mozMatchesSelector(t):!1},u=function(e,t){return e.webkitMatchesSelector?e.webkitMatchesSelector(t):!1},c=function(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):!1},s=function(e,t){return!1},i=Element.prototype.webkitMatchesSelector?u:Element.prototype.mozMatchesSelector?l:Element.prototype.msMatchesSelector?c:s,e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/ElementHighlighter",function(e,t,n){var r,o,a,i,s,d,m;o=null,d=null,a=null,n.exports=r=function(){function t(){this.hElement=this.createHighlighterElement(),this.hElement.__weinreHighlighter=!0,this.hElement.style.display="none",this.hElement.style.zIndex=1e7,a&&document.body.removeChild(a),a=this.hElement,document.body.appendChild(this.hElement)}return t.create=function(){return null==d&&(d=e("./ElementHighlighterDivs2")),new d},t.prototype.on=function(e){return null!==e&&e.nodeType===Node.ELEMENT_NODE?(this.redraw(s(e)),this.hElement.style.display="block"):void 0},t.prototype.off=function(){return this.hElement.style.display="none"},t}(),s=function(e){var t,n,r,o,a;for(o={},r=0,a=0,n=e;;)if(r+=n.offsetLeft,a+=n.offsetTop,!(n=n.offsetParent))break;return o.x=r,o.y=a,t=document.defaultView.getComputedStyle(e),o.width=e.offsetWidth,o.height=e.offsetHeight,o.marginLeft=i(t["margin-left"]||t.marginLeft),o.marginRight=i(t["margin-right"]||t.marginRight),o.marginTop=i(t["margin-top"]||t.marginTop),o.marginBottom=i(t["margin-bottom"]||t.marginBottom),o.borderLeft=i(t["border-left-width"]||t.borderLeftWidth),o.borderRight=i(t["border-right-width"]||t.borderRightWidth),o.borderTop=i(t["border-top-width"]||t.borderTopWidth),o.borderBottom=i(t["border-bottom-width"]||t.borderBottomWidth),o.paddingLeft=i(t["padding-left"]||t.paddingLeft),o.paddingRight=i(t["padding-right"]||t.paddingRight),o.paddingTop=i(t["padding-top"]||t.paddingTop),o.paddingBottom=i(t["padding-bottom"]||t.paddingBottom),o.x-=o.marginLeft,o.y-=o.marginTop,o},i=function(e){return parseInt(e.replace(/px$/,""))},m=function(){var e;return e=document.createElement("canvas"),e.getContext?!!e.getContext("2d"):!1},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/ElementHighlighterDivs2",function(e,t,n){var r,o,a,i,s,d,m,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=e("./ElementHighlighter"),a="rgba(246, 178, 107, 0.66)",r="rgba(255, 229, 153, 0.66)",i="rgba(147, 196, 125, 0.55)",o="rgba(111, 168, 220, 0.66)",r="rgba(255, 255, 153, 0.40)",i="rgba(  0, 255,   0, 0.20)",o="rgba(  0,   0, 255, 0.30)",n.exports=d=function(e){function t(){return t.__super__.constructor.apply(this,arguments);
}return c(t,e),t.prototype.createHighlighterElement=function(){return this.hElement1=document.createElement("weinreHighlighter"),this.hElement1.style.position="absolute",this.hElement1.style.overflow="hidden",this.hElement2=document.createElement("weinreHighlighter"),this.hElement2.style.position="absolute",this.hElement2.style.display="block",this.hElement2.style.overflow="hidden",this.hElement1.appendChild(this.hElement2),this.hElement1.style.borderTopStyle="solid",this.hElement1.style.borderLeftStyle="solid",this.hElement1.style.borderBottomStyle="solid",this.hElement1.style.borderRightStyle="solid",this.hElement1.style.borderTopColor=a,this.hElement1.style.borderLeftColor=a,this.hElement1.style.borderBottomColor=a,this.hElement1.style.borderRightColor=a,this.hElement1.style.backgroundColor=r,this.hElement2.style.borderTopStyle="solid",this.hElement2.style.borderLeftStyle="solid",this.hElement2.style.borderBottomStyle="solid",this.hElement2.style.borderRightStyle="solid",this.hElement2.style.borderTopColor=i,this.hElement2.style.borderLeftColor=i,this.hElement2.style.borderBottomColor=i,this.hElement2.style.borderRightColor=i,this.hElement2.style.backgroundColor=o,this.hElement1.style.outline="black solid thin",this.hElement1},t.prototype.redraw=function(e){return this.hElement1.style.top=m(e.y),this.hElement1.style.left=m(e.x),this.hElement1.style.height=m(e.height),this.hElement1.style.width=m(e.width),this.hElement1.style.borderTopWidth=m(e.marginTop),this.hElement1.style.borderLeftWidth=m(e.marginLeft),this.hElement1.style.borderBottomWidth=m(e.marginBottom),this.hElement1.style.borderRightWidth=m(e.marginRight),this.hElement2.style.top=m(e.borderTop),this.hElement2.style.left=m(e.borderLeft),this.hElement2.style.bottom=m(e.borderBottom),this.hElement2.style.right=m(e.borderRight),this.hElement2.style.borderTopWidth=m(e.paddingTop),this.hElement2.style.borderLeftWidth=m(e.paddingLeft),this.hElement2.style.borderBottomWidth=m(e.paddingBottom),this.hElement2.style.borderRightWidth=m(e.paddingRight)},t}(s),m=function(e){return""+e+"px"},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/HookSites",function(e,t,n){var r,o;r=e("../common/HookLib"),n.exports=o=function(){function e(){}return e}(),o.window_clearInterval=r.addHookSite(window,"clearInterval"),o.window_clearTimeout=r.addHookSite(window,"clearTimeout"),o.window_setInterval=r.addHookSite(window,"setInterval"),o.window_setTimeout=r.addHookSite(window,"setTimeout"),o.window_addEventListener=r.addHookSite(window,"addEventListener"),o.Node_addEventListener=r.addHookSite(Node.prototype,"addEventListener"),o.XMLHttpRequest_open=r.addHookSite(XMLHttpRequest.prototype,"open"),o.XMLHttpRequest_send=r.addHookSite(XMLHttpRequest.prototype,"send"),o.XMLHttpRequest_addEventListener=r.addHookSite(XMLHttpRequest.prototype,"addEventListener"),window.openDatabase&&(o.window_openDatabase=r.addHookSite(window,"openDatabase")),window.localStorage&&(o.LocalStorage_setItem=r.addHookSite(window.localStorage,"setItem"),o.LocalStorage_removeItem=r.addHookSite(window.localStorage,"removeItem"),o.LocalStorage_clear=r.addHookSite(window.localStorage,"clear")),window.sessionStorage&&(o.SessionStorage_setItem=r.addHookSite(window.sessionStorage,"setItem"),o.SessionStorage_removeItem=r.addHookSite(window.sessionStorage,"removeItem"),o.SessionStorage_clear=r.addHookSite(window.sessionStorage,"clear")),e("../common/MethodNamer").setNamesForClass(n.exports)});var injectedScriptConstructor=function(InjectedScriptHost,inspectedWindow,injectedScriptId){function bind(e,t){function n(){return r.apply(e,o.concat(Array.prototype.slice.call(arguments,0)))}var r=t,o=Array.prototype.slice.call(arguments,2);return n.toString=function(){return"bound: "+r},n}function CommandLineAPI(e,t){function n(e){if(!t)return!1;for(var n=t.scopeChain,r=0;r<n.length;++r)if(e in n[r])return!0;return!1}for(var r=0;r<CommandLineAPI.members_.length;++r){var o=CommandLineAPI.members_[r];o in inspectedWindow||n(o)||(this[o]=bind(e,e[o]))}for(var r=0;5>r;++r){var o="$"+r;o in inspectedWindow||n(o)||Object.defineProperty(this,"$"+r,{get:bind(e,e._inspectedNode,r)})}}function CommandLineAPIImpl(){}var InjectedScript=function(){this._lastBoundObjectId=1,this._idToWrappedObject={},this._objectGroups={}};InjectedScript.prototype={wrapObjectForConsole:function(e,t){if(t)return this._wrapObject(e,"console");var n={};return n.type=typeof e,n.description=this._toString(e),n},_wrapObject:function(e,t,n){try{var r;if("object"==typeof e||"function"==typeof e||this._isHTMLAllCollection(e)){var o=this._lastBoundObjectId++;this._idToWrappedObject[o]=e;var a=this._objectGroups[t];a||(a=[],this._objectGroups[t]=a),a.push(o),r={injectedScriptId:injectedScriptId,id:o,groupName:t}}return InjectedScript.RemoteObject.fromObject(e,r,n)}catch(i){return InjectedScript.RemoteObject.fromObject("[ Exception: "+i.toString()+" ]")}},_parseObjectId:function(objectId){return eval("("+objectId+")")},releaseWrapperObjectGroup:function(e){var t=this._objectGroups[e];if(t){for(var n=0;n<t.length;n++)delete this._idToWrappedObject[t[n]];delete this._objectGroups[e]}},dispatch:function(methodName,args){var argsArray=eval("("+args+")"),result=this[methodName].apply(this,argsArray);return"undefined"==typeof result&&(inspectedWindow.console.error("Web Inspector error: InjectedScript.%s returns undefined",methodName),result=null),result},getProperties:function(e,t,n){var r=this._parseObjectId(e),o=this._objectForId(r);if(!this._isDefined(o))return!1;var a,i=[];a=-1!=window.navigator.userAgent.indexOf("MSIE")?this._getPropertyNames(o):t?this._getPropertyNames(o):Object.getOwnPropertyNames(o),!t&&o.__proto__&&a.push("__proto__");for(var s=0;s<a.length;++s){var d=a[s],m={};m.name=d+"";var l=o.__lookupGetter__&&o.__lookupGetter__(d);if(l)m.value=new InjectedScript.RemoteObject.fromObject("—"),m.isGetter=!0;else try{m.value=this._wrapObject(o[d],r.groupName,n)}catch(c){m.value=new InjectedScript.RemoteObject.fromException(c)}i.push(m)}return i},setPropertyValue:function(e,t,n){var r=this._parseObjectId(e),o=this._objectForId(r);if(!this._isDefined(o))return!1;var a=n.length;if(!a)return delete o[t],!(t in o);try{var i=inspectedWindow.eval("("+n+")");return o[t]=i,!0}catch(s){try{var i=inspectedWindow.eval('"'+n.replace(/"/g,'\\"')+'"');return o[t]=i,!0}catch(s){return!1}}},_populatePropertyNames:function(e,t){for(var n=e;n;n=Object.getPrototypeOf(n))try{for(var r=Object.getOwnPropertyNames(n),o=0;o<r.length;++o)t[r[o]]=!0}catch(a){}},_getPropertyNames:function(e,t){var n={};return this._populatePropertyNames(e,n),Object.keys(n)},getCompletions:function(e,t){var n={};try{e||(e="this");var r=this._evaluateOn(inspectedWindow.eval,inspectedWindow,e,!1,!1);if("object"==typeof r&&this._populatePropertyNames(r,n),t)for(var o in CommandLineAPI.members_)n[CommandLineAPI.members_[o]]=!0}catch(a){}return n},getCompletionsOnCallFrame:function(e,t,n){var r={};try{var o=this._callFrameForId(e);if(!o)return r;if(t){var a=this._evaluateOn(o.evaluate,o,t,!0,!1);"object"==typeof a&&this._populatePropertyNames(a,r)}else for(var i=o.scopeChain,s=0;s<i.length;++s)this._populatePropertyNames(i[s],r);if(n)for(var d in CommandLineAPI.members_)r[CommandLineAPI.members_[d]]=!0}catch(m){}return r},evaluate:function(e,t,n){return this._evaluateAndWrap(inspectedWindow.eval,inspectedWindow,e,t,!1,n)},_evaluateAndWrap:function(e,t,n,r,o,a){try{return this._wrapObject(this._evaluateOn(e,t,n,o,a),r)}catch(i){return InjectedScript.RemoteObject.fromException(i)}},_evaluateOn:function(e,t,n,r,o){try{o&&inspectedWindow.console&&(inspectedWindow.console._commandLineAPI=new CommandLineAPI(this._commandLineAPIImpl,r?t:null),n="with ((window && window.console && window.console._commandLineAPI) || {}) {\n"+n+"\n}");var a=e.call(t,n);if("error"===this._type(a))throw a.toString();return a}finally{o&&inspectedWindow.console&&delete inspectedWindow.console._commandLineAPI}},getNodeId:function(e){return InjectedScriptHost.pushNodePathToFrontend(e,!1,!1)},callFrames:function(){var e=InjectedScriptHost.currentCallFrame();if(!e)return!1;injectedScript.releaseWrapperObjectGroup("backtrace");var t=[],n=0;do t.push(new InjectedScript.CallFrameProxy(n++,e)),e=e.caller;while(e);return t},evaluateOnCallFrame:function(e,t,n,r){var o=this._callFrameForId(e);return o?this._evaluateAndWrap(o.evaluate,o,t,n,!0,r):!1},_callFrameForId:function(callFrameId){for(var parsedCallFrameId=eval("("+callFrameId+")"),ordinal=parsedCallFrameId.ordinal,callFrame=InjectedScriptHost.currentCallFrame();--ordinal>=0&&callFrame;)callFrame=callFrame.caller;return callFrame},_nodeForId:function(e){return e?InjectedScriptHost.nodeForId(e):null},_objectForId:function(e){return this._idToWrappedObject[e.id]},resolveNode:function(e){var t=this._nodeForId(e);return t?this._wrapObject(t,"prototype"):!1},getNodeProperties:function(nodeId,properties){var node=this._nodeForId(nodeId);if(!node)return!1;properties=eval("("+properties+")");for(var result={},i=0;i<properties.length;++i)result[properties[i]]=node[properties[i]];return result},getNodePrototypes:function(e){this.releaseWrapperObjectGroup("prototypes");var t=this._nodeForId(e);if(!t)return!1;var n=[],r=t;do n.push(this._wrapObject(r,"prototypes")),r=Object.getPrototypeOf(r);while(r);return n},pushNodeToFrontend:function(e){var t=this._parseObjectId(e),n=this._objectForId(t);return n&&"node"===this._type(n)?InjectedScriptHost.pushNodePathToFrontend(n,!1,!1):!1},evaluateOnSelf:function(funcBody,args){var func=eval("("+funcBody+")");return func.apply(this,eval("("+args+")")||[])},_isDefined:function(e){return e||this._isHTMLAllCollection(e)},_isHTMLAllCollection:function(e){return"undefined"==typeof e&&inspectedWindow.HTMLAllCollection&&e instanceof inspectedWindow.HTMLAllCollection},_type:function(e){if(null===e)return"null";var t=typeof e;if("object"!==t&&"function"!==t)return this._isHTMLAllCollection(e)?"array":t;if(!inspectedWindow.document)return t;if(e instanceof inspectedWindow.Node){try{return void 0===e.nodeType?t:"node"}catch(n){}return e.toString()}return e instanceof inspectedWindow.String?"string":e instanceof inspectedWindow.Array?"array":e instanceof inspectedWindow.Boolean?"boolean":e instanceof inspectedWindow.Number?"number":e instanceof inspectedWindow.Date?"date":e instanceof inspectedWindow.RegExp?"regexp":isFinite(e.length)&&"function"==typeof e.splice?"array":isFinite(e.length)&&"function"==typeof e.callee?"array":e instanceof inspectedWindow.NodeList?"array":e instanceof inspectedWindow.HTMLCollection?"array":e instanceof inspectedWindow.Error?"error":t},_describe:function(e,t){var n=this._type(e);switch(n){case"object":case"node":var r=InjectedScriptHost.internalConstructorName(e);if("Object"===r){var o=e.constructor&&e.constructor.name;if(o)return o}return r;case"array":var a=InjectedScriptHost.internalConstructorName(e);return"number"==typeof e.length&&(a+="["+e.length+"]"),a;case"string":return t?e.length>100?'"'+e.substring(0,100)+'…"':'"'+e+'"':e;case"function":var i=this._toString(e);return t&&(i=/.*/.exec(i)[0].replace(/ +$/g,"")),i;default:return this._toString(e)}},_toString:function(e){return""+e}};var injectedScript=new InjectedScript;return InjectedScript.RemoteObject=function(e,t,n,r){this.objectId=e,this.type=t,this.description=n,this.hasChildren=r},InjectedScript.RemoteObject.fromException=function(e){return new InjectedScript.RemoteObject(null,"error",e.toString())},InjectedScript.RemoteObject.fromObject=function(e,t,n){var r=injectedScript._type(e),o=typeof e,a="object"===o&&null!==e&&(Object.getOwnPropertyNames(e).length||!!Object.getPrototypeOf(e))||"function"===o,i="";try{var i=injectedScript._describe(e,n);return new InjectedScript.RemoteObject(t,r,i,a)}catch(s){return InjectedScript.RemoteObject.fromException(s)}},InjectedScript.CallFrameProxy=function(e,t){this.id={ordinal:e,injectedScriptId:injectedScriptId},this.type=t.type,this.functionName="function"===this.type?t.functionName:"",this.sourceID=t.sourceID,this.line=t.line,this.column=t.column,this.scopeChain=this._wrapScopeChain(t)},InjectedScript.CallFrameProxy.prototype={_wrapScopeChain:function(e){for(var t=1,n=2,r=3,o=4,a=e.scopeChain,i=[],s=!1,d=0;d<a.length;d++){var m=e.scopeType(d),l=a[d],c=injectedScript._wrapObject(l,"backtrace",!0);switch(m){case t:s=!0,c.isLocal=!0,c.thisObject=injectedScript._wrapObject(e.thisObject,"backtrace",!0);break;case r:c.isClosure=!0;break;case n:case o:s&&l instanceof inspectedWindow.Element?c.isElement=!0:s&&l instanceof inspectedWindow.Document?c.isDocument=!0:c.isWithBlock=!0}i.push(c)}return i}},CommandLineAPI.members_=["$","$$","$x","dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear"],CommandLineAPIImpl.prototype={$:function(){return document.getElementById.apply(document,arguments)},$$:function(){return document.querySelectorAll.apply(document,arguments)},$x:function(e,t){var n=[];try{for(var r,o=t&&t.ownerDocument||inspectedWindow.document,a=o.evaluate(e,t||o,null,XPathResult.ANY_TYPE,null);r=a.iterateNext();)n.push(r)}catch(i){}return n},dir:function(){return console.dir.apply(console,arguments)},dirxml:function(){return console.dirxml.apply(console,arguments)},keys:function(e){return Object.keys(e)},values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},profile:function(){return console.profile.apply(console,arguments)},profileEnd:function(){return console.profileEnd.apply(console,arguments)},monitorEvents:function(e,t){if(e&&e.addEventListener&&e.removeEventListener){t=this._normalizeEventTypes(t);for(var n=0;n<t.length;++n)e.removeEventListener(t[n],this._logEvent,!1),e.addEventListener(t[n],this._logEvent,!1)}},unmonitorEvents:function(e,t){if(e&&e.addEventListener&&e.removeEventListener){t=this._normalizeEventTypes(t);for(var n=0;n<t.length;++n)e.removeEventListener(t[n],this._logEvent,!1)}},inspect:function(e){if(0!==arguments.length)if(inspectedWindow.console.log(e),"node"===injectedScript._type(e))InjectedScriptHost.pushNodePathToFrontend(e,!1,!0);else switch(injectedScript._describe(e)){case"Database":InjectedScriptHost.selectDatabase(e);break;case"Storage":InjectedScriptHost.selectDOMStorage(e)}},copy:function(e){"node"===injectedScript._type(e)&&(e=e.outerHTML),InjectedScriptHost.copyText(e)},clear:function(){InjectedScriptHost.clearConsoleMessages()},_inspectedNode:function(e){var t=InjectedScriptHost.inspectedNode(e);return injectedScript._nodeForId(t)},_normalizeEventTypes:function(e){"undefined"==typeof e?e=["mouse","key","load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"]:"string"==typeof e&&(e=[e]);for(var t=[],n=0;n<e.length;n++)"mouse"===e[n]?t.splice(0,0,"mousedown","mouseup","click","dblclick","mousemove","mouseover","mouseout"):"key"===e[n]?t.splice(0,0,"keydown","keyup","keypress"):t.push(e[n]);return t},_logEvent:function(e){console.log(e.type,e)}},injectedScript._commandLineAPIImpl=new CommandLineAPIImpl,injectedScript};modjewel.define("weinre/target/InjectedScriptHostImpl",function(e,t,n){var r,o;o=e("../common/Weinre"),n.exports=r=function(){function e(){}return e.prototype.clearConsoleMessages=function(e){return e?o.WeinreTargetCommands.sendClientCallback(e):void 0},e.prototype.nodeForId=function(e,t){return o.nodeStore.getNode(e)},e.prototype.pushNodePathToFrontend=function(e,t,n,r){var a,i;return i=o.nodeStore.getNodeId(e),a=o.nodeStore.serializeNode(e,1),o.wi.DOMNotify.setChildNodes(i,a),r&&o.WeinreTargetCommands.sendClientCallback(r),n?o.wi.InspectorNotify.updateFocusedNode(i):void 0},e.prototype.inspectedNode=function(e,t){var n;return n=o.nodeStore.getInspectedNode(e)},e.prototype.internalConstructorName=function(e){var t,n,r,o;return t=e.constructor,n=t.fullClassName||t.displayName||t.name,n&&"Object"!==n?n:(o=/\[object (.*)\]/,r=o.exec(e.toString()),r?r[1]:"Object")},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/NetworkRequest",function(e,t,n){var r,o,a,i,s,d,m,l,c,u,p,h,f,g,y;m=e("../common/StackTrace"),i=e("../common/IDGenerator"),o=e("../common/HookLib"),l=e("../common/Weinre"),r=e("../common/Ex"),a=e("./HookSites"),s={url:window.location.href,frameId:0,loaderId:0},n.exports=d=function(){function e(e,t,n,r,o){this.xhr=e,this.id=t,this.method=n,this.url=r,this.stackTrace=o}return e.prototype.handleSend=function(e){var t,n,r;return l.wi.NetworkNotify.identifierForInitialRequest(this.id,this.url,s,this.stackTrace),r=Date.now()/1e3,n=p(this.url,this.method,this.xhr,e),t={isNull:!0},l.wi.NetworkNotify.willSendRequest(this.id,r,n,t)},e.prototype.handleHeadersReceived=function(){var e,t;return t=Date.now()/1e3,e=h(this.xhr),l.wi.NetworkNotify.didReceiveResponse(this.id,t,"XHR",e)},e.prototype.handleLoading=function(){},e.prototype.handleDone=function(){var e,t,n,r,o,a,i;n="";try{n=this.xhr.responseText}catch(s){t=s}return l.wi.NetworkNotify.setInitialContent(this.id,n,"XHR"),i=Date.now()/1e3,r=this.xhr.status,0===r&&(r=200),o=this.xhr.statusText,a=r>=200&&300>r,a?l.wi.NetworkNotify.didFinishLoading(this.id,i):(e=""+r+" - "+o,l.wi.NetworkNotify.didFailLoading(this.id,i,e))},e.installNativeHooks=function(){return a.XMLHttpRequest_open.addHooks({before:function(t,n){var r,a,s,d,l,c,u,p,h;for(u=t,s=n[0],c=n[1],a=i.next(),d=new m(n).trace.slice(1),l=[],p=0,h=d.length;h>p;p++)r=d[p],l.push({functionName:r});return u.__weinreNetworkRequest__=new e(u,a,s,c,l),o.ignoreHooks(function(){return u.addEventListener("readystatechange",f(u),!1)})}}),a.XMLHttpRequest_send.addHooks({before:function(e,t){var n,r,o;return o=e,n=t[0],(r=o.__weinreNetworkRequest__)?r.handleSend(n):void 0}})},e}(),p=function(e,t,n,r){return{url:e,httpMethod:t,httpHeaderFields:{},requestFormData:c(e,r)}},h=function(e){var t,n,r,o,a,i;return n=e.getResponseHeader("Content-Type"),n||(n="application/octet-stream"),i=g(n),n=i[0],r=i[1],o=u(e),a={mimeType:n,textEncodingName:r,httpStatusCode:e.status,httpStatusText:e.statusText,httpHeaderFields:o,connectionReused:!1,connectionID:0,wasCached:!1},t=e.getResponseHeader("Content-Length"),t=parseInt(t),isNaN(t)||(a.expectedContentLength=t),a},u=function(e){var t,n,r,o,a,i,s,d,m;for(a=e.getAllResponseHeaders(),r=a.split("\r\n"),o={},s=0,d=r.length;d>s&&(n=r[s],n=y(n),""!==n);s++)m=n.split(":",2),t=m[0],i=m[1],o[y(t)]=y(i);return o},y=function(e){return e.replace(/^\s+|\s+$/g,"")},c=function(e,t){var n,r;return t?t:(r=/.*?\?(.*?)(#.*)?$/,n=e.match(r),n?n[1]:"")},g=function(e){var t,n;return n=/\s*(.*?)\s*(;\s*(.*))?\s*$/,t=e.match(n),t?[t[1],t[3]]:[e,""]},f=function(e){return function(){var t,n;if(n=e.__weinreNetworkRequest__)try{switch(e.readyState){case 2:return n.handleHeadersReceived();case 3:return n.handleLoading();case 4:return n.handleDone()}}catch(r){t=r}}}}),modjewel.define("weinre/target/NodeStore",function(e,t,n){var r,o,a,i,s,d,m,l,c;i=e("../common/Weinre"),o=e("../common/IDGenerator"),r=e("../common/Debug"),n.exports=a=function(){function e(){this._nodeMap={},this._childrenSent={},this._inspectedNodes=[],document.addEventListener("DOMSubtreeModified",c,!1),document.addEventListener("DOMNodeInserted",m,!1),document.addEventListener("DOMNodeRemoved",l,!1),document.addEventListener("DOMAttrModified",s,!1),document.addEventListener("DOMCharacterDataModified",d,!1)}return e.prototype.addInspectedNode=function(e){return this._inspectedNodes.unshift(e),this._inspectedNodes.length>5?this._inspectedNodes=this._inspectedNodes.slice(0,5):void 0},e.prototype.getInspectedNode=function(e){return this._inspectedNodes[e]},e.prototype.getNode=function(e){return this._nodeMap[e]},e.prototype.checkNodeId=function(e){return o.checkId(e)},e.prototype.getNodeId=function(e){var t;return t=this.checkNodeId(e),t?t:o.getId(e,this._nodeMap)},e.prototype.getNodeData=function(e,t){return this.serializeNode(this.getNode(e),t)},e.prototype.getPreviousSiblingId=function(e){for(var t,n;;){if(n=e.previousSibling,!n)return 0;if(t=this.checkNodeId(n))return t;e=n}},e.prototype.nextNodeId=function(){return""+o.next()},e.prototype.serializeNode=function(e,t){var n,r,o,a,i,s,d;switch(s="",d=null,a=null,o=this.getNodeId(e),e.nodeType){case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.CDATA_SECTION_NODE:d=e.nodeValue;break;case Node.ATTRIBUTE_NODE:a=e.localName;break;case Node.DOCUMENT_FRAGMENT_NODE:break;default:s=e.nodeName,a=e.localName}if(i={id:o,nodeType:e.nodeType,nodeName:s,localName:a,nodeValue:d},e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.DOCUMENT_NODE||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(i.childNodeCount=this.childNodeCount(e),n=this.serializeNodeChildren(e,t),n.length&&(i.children=n),e.nodeType===Node.ELEMENT_NODE)for(i.attributes=[],r=0;r<e.attributes.length;)i.attributes.push(e.attributes[r].nodeName),i.attributes.push(e.attributes[r].nodeValue),r++;else e.nodeType===Node.DOCUMENT_NODE&&(i.documentURL=window.location.href);else e.nodeType===Node.DOCUMENT_TYPE_NODE?(i.publicId=e.publicId,i.systemId=e.systemId,i.internalSubset=e.internalSubset):e.nodeType===Node.ATTRIBUTE_NODE&&(i.name=e.nodeName,i.value=e.nodeValue);return i},e.prototype.serializeNodeChildren=function(e,t){var n,r,o,a;if(a=[],n=this.childNodeIds(e),0===t)return 1===n.length&&(r=this.getNode(n[0]),r.nodeType===Node.TEXT_NODE&&a.push(this.serializeNode(r))),a;for(t--,o=0;o<n.length;)a.push(this.serializeNode(this.getNode(n[o]),t)),o++;return a},e.prototype.childNodeCount=function(e){return this.childNodeIds(e).length},e.prototype.childNodeIds=function(e){var t,n,r,o,a,i;for(r=[],n=0,i=e.childNodes,o=0,a=i.length;a>o;o++)t=i[o],this.isToBeSkipped(t)||r.push(this.getNodeId(t));return r},e.prototype.isToBeSkipped=function(e){return e?e.__weinreHighlighter?!0:e.nodeType!==Node.TEXT_NODE?!1:!!e.nodeValue.match(/^\s*$/):!0},e}(),c=function(e){return e.attrChange?a.handleDOMAttrModified(e):void 0},m=function(e){var t,n,r,o;return o=i.nodeStore.checkNodeId(e.target),(n=i.nodeStore.checkNodeId(e.relatedNode))?(t=i.nodeStore.serializeNode(e.target,0),r=i.nodeStore.getPreviousSiblingId(e.target),i.wi.DOMNotify.childNodeInserted(n,r,t)):void 0},l=function(e){var t,n,r;return r=i.nodeStore.checkNodeId(e.target),(n=i.nodeStore.checkNodeId(e.relatedNode))?r?n?i.wi.DOMNotify.childNodeRemoved(n,r):void 0:(t=i.nodeStore.childNodeCount(e.relatedNode),i.wi.DOMNotify.childNodeCountUpdated(n,t)):void 0},s=function(e){var t,n,r;if(r=i.nodeStore.checkNodeId(e.target)){for(t=[],n=0;n<e.target.attributes.length;)t.push(e.target.attributes[n].name),t.push(e.target.attributes[n].value),n++;return i.wi.DOMNotify.attributesUpdated(r,t)}},d=function(e){var t;return(t=i.nodeStore.checkNodeId(e.target))?i.wi.DOMNotify.characterDataModified(t,e.newValue):void 0},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/SqlStepper",function(e,t,n){var r,o,a,i,s;r=e("../common/Binding"),n.exports=o=function(){function e(t){var n;return this instanceof e?(this.__context={},n=this.__context,void(n.steps=t)):new e(t)}return e.prototype.run=function(e,t){var n;if(n=this.__context,n.hasBeenRun)throw new Ex(arguments,"stepper has already been run");return n.hasBeenRun=!0,n.db=e,n.errorCallback=t,n.nextStep=0,n.ourErrorCallback=new r(this,i),n.runStep=new r(this,s),this.executeSql=new r(this,a),e.transaction(n.runStep)},e.example=function(t,n){var r,o,a,i;return o=function(){return this.executeSql("SELECT name FROM sqlite_master WHERE type='table'")},a=function(e){var t,n,r,o;for(o=e.rows,r=[],t=0;t<o.length;)n=o.item(t).name,"__WebKitDatabaseInfoTable__"!==n?(r.push(n),t++):t++;return console.log("["+this.id+"] table names: "+r.join(", "))},r=function(e){return console.log("["+this.id+"] sql error:"+e.code+": "+e.message)},i=new e([o,a]),i.id=n,i.run(t,r)},e}(),a=function(e,t){var n;return n=this.__context,n.tx.executeSql(e,t,n.runStep,n.ourErrorCallback)},i=function(e,t){var n;return n=this.__context,n.errorCallback.call(this,t)},s=function(e,t){var n,r;return n=this.__context,n.nextStep>=n.steps.length?void 0:(n.tx=e,n.currentStep=n.nextStep,n.nextStep++,r=n.steps[n.currentStep],r.call(this,t))},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/Target",function(e,t,n){var r,o,a,i,s,d,m,l,c,u,p,h,f,g,y,v,w,S,b,I,_,N,C;e("./BrowserHacks"),d=e("../common/Ex"),r=e("../common/Binding"),a=e("../common/Callback"),c=e("../common/MessageDispatcher"),f=e("../common/Weinre"),m=e("../common/HookLib"),i=e("./CheckForProblems"),p=e("./NodeStore"),o=e("./CSSStore"),s=e("./ElementHighlighter"),l=e("./InjectedScriptHostImpl"),u=e("./NetworkRequest"),y=e("./WeinreTargetEventsImpl"),g=e("./WeinreExtraClientCommandsImpl"),w=e("./WiConsoleImpl"),v=e("./WiCSSImpl"),I=e("./WiDatabaseImpl"),S=e("./WiDOMImpl"),b=e("./WiDOMStorageImpl"),_=e("./WiInspectorImpl"),N=e("./WiRuntimeImpl"),n.exports=h=function(){function e(){}return e.main=function(){return i.check(),f.target=new e,f.target.initialize()},e.prototype.setWeinreServerURLFromScriptSrc=function(e){var t,n,r;if(!window.WeinreServerURL){if(e&&(r=/((https?:)?\/\/(.*?)\/)/,t=r.exec(e.src)))return void(window.WeinreServerURL=t[1]);throw n="unable to calculate the weinre server url; explicity set the variable window.WeinreServerURL instead",alert(n),new d(arguments,n)}},e.prototype.setWeinreServerIdFromScriptSrc=function(e){var t,n;if(!window.WeinreServerId)return e=this.getTargetScriptElement(),n="anonymous",e&&(t=e.src.split("#")[1],t?n=t:(t=location.hash.split("#")[1],t&&(n=t))),window.WeinreServerId=n},e.prototype.getTargetScriptElement=function(){var e,t,n,r,o;for(t=document.getElementsByTagName("script"),o=["target-script.js","target-script-min.js"],n=0;n<t.length;){for(e=t[n],r=0;r<o.length;){if(-1!==e.src.indexOf("/"+o[r]))return e;r++}n++}},e.prototype.initialize=function(){var e,t,n;return e=this.getTargetScriptElement(),this.setWeinreServerURLFromScriptSrc(e),this.setWeinreServerIdFromScriptSrc(e),"/"!==window.WeinreServerURL[window.WeinreServerURL.length-1]&&(window.WeinreServerURL+="/"),t=new l,f.injectedScript=injectedScriptConstructor(t,window,0,"?"),window.addEventListener("load",r(this,"onLoaded"),!1),document.addEventListener("DOMContentLoaded",r(this,"onDOMContent"),!1),this._startTime=C(),"loaded"===document.readyState&&m.ignoreHooks(function(e){return function(){return setTimeout(function(){return e.onDOMContent()},10)}}(this)),"complete"===document.readyState&&m.ignoreHooks(function(e){return function(){return setTimeout(function(){return e.onDOMContent()},10),setTimeout(function(){return e.onLoaded()},20)}}(this)),n=new c(window.WeinreServerURL+"ws/target",window.WeinreServerId),f.messageDispatcher=n,f.wi={},f.wi.Console=new w,f.wi.CSS=new v,f.wi.Database=new I,f.wi.DOM=new S,f.wi.DOMStorage=new b,f.wi.Inspector=new _,f.wi.Runtime=new N,n.registerInterface("Console",f.wi.Console,!1),n.registerInterface("CSS",f.wi.CSS,!1),n.registerInterface("Database",f.wi.Database,!1),n.registerInterface("DOM",f.wi.DOM,!1),n.registerInterface("DOMStorage",f.wi.DOMStorage,!1),n.registerInterface("Inspector",f.wi.Inspector,!1),n.registerInterface("Runtime",f.wi.Runtime,!1),n.registerInterface("WeinreExtraClientCommands",new g,!0),n.registerInterface("WeinreTargetEvents",new y,!0),f.wi.ApplicationCacheNotify=n.createProxy("ApplicationCacheNotify"),f.wi.ConsoleNotify=n.createProxy("ConsoleNotify"),f.wi.DOMNotify=n.createProxy("DOMNotify"),f.wi.DOMStorageNotify=n.createProxy("DOMStorageNotify"),f.wi.DatabaseNotify=n.createProxy("DatabaseNotify"),f.wi.InspectorNotify=n.createProxy("InspectorNotify"),f.wi.TimelineNotify=n.createProxy("TimelineNotify"),f.wi.NetworkNotify=n.createProxy("NetworkNotify"),f.WeinreTargetCommands=n.createProxy("WeinreTargetCommands"),f.WeinreExtraTargetEvents=n.createProxy("WeinreExtraTargetEvents"),n.getWebSocket().addEventListener("open",r(this,this.cb_webSocketOpened)),f.nodeStore=new p,f.cssStore=new o,u.installNativeHooks()},e.prototype.cb_webSocketOpened=function(){return f.WeinreTargetCommands.registerTarget(window.location.href,r(this,this.cb_registerTarget))},e.prototype.cb_registerTarget=function(e){return f.targetDescription=e},e.prototype.onLoaded=function(){return f.wi.InspectorNotify?f.wi.InspectorNotify.loadEventFired(C()-this._startTime):void m.ignoreHooks(function(e){return function(){return setTimeout(function(){return e.onLoaded()},10)}}(this))},e.prototype.onDOMContent=function(){return f.wi.InspectorNotify?f.wi.InspectorNotify.domContentEventFired(C()-this._startTime):void m.ignoreHooks(function(e){return function(){return setTimeout(function(){return e.onDOMContent()},10)}}(this))},e.prototype.setDocument=function(){var e,t;return f.elementHighlighter||(f.elementHighlighter=s.create()),t=f.nodeStore.getNodeId(document),e=f.nodeStore.getNodeData(t,2),f.wi.DOMNotify.setDocument(e)},e.prototype.whenBodyReady=function(e,t,n){return document.body?void n.apply(e,t):document.addEventListener("DOMContentLoaded",function(){return n.apply(e,t)},!1)},e}(),C=function(){return(new Date).getMilliseconds()/1e3},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/Timeline",function(e,t,n){var r,o,a,i,s,d,m,l,c,u,p,h,f,g,y,v;r=e("../common/Ex"),p=e("../common/Weinre"),i=e("../common/IDGenerator"),d=e("../common/StackTrace"),o=e("../common/HookLib"),a=e("./HookSites"),s=!1,u={},c={},l={EventDispatch:0,Layout:1,RecalculateStyles:2,Paint:3,ParseHTML:4,TimerInstall:5,TimerRemove:6,TimerFire:7,XHRReadyStateChange:8,XHRLoad:9,EvaluateScript:10,Mark:11,ResourceSendRequest:12,ResourceReceiveResponse:13,ResourceFinish:14,FunctionCall:15,ReceiveResourceData:16,GCEvent:17,MarkDOMContent:18,MarkLoad:19,ScheduleResourceRequest:20},n.exports=m=function(){function e(){}return e.start=function(){return s=!0},e.stop=function(){return s=!1},e.isRunning=function(){return s},e.addRecord_Mark=function(t){var n;if(e.isRunning())return n={},n.type=l.Mark,n.category={name:"scripting"},n.startTime=Date.now(),n.data={message:t},h(n,3),p.wi.TimelineNotify.addRecordToTimeline(n)},e.addRecord_EventDispatch=function(t,n,r){var o;if(e.isRunning())return r||(r="scripting"),o={},o.type=l.EventDispatch,o.category={name:r},o.startTime=Date.now(),o.data={type:t.type},p.wi.TimelineNotify.addRecordToTimeline(o)},e.addRecord_TimerInstall=function(t,n,r){var o;if(e.isRunning())return o={},o.type=l.TimerInstall,o.category={name:"scripting"},o.startTime=Date.now(),o.data={timerId:t,timeout:n,singleShot:r},h(o,4),p.wi.TimelineNotify.addRecordToTimeline(o)},e.addRecord_TimerRemove=function(t,n,r){var o;if(e.isRunning())return o={},o.type=l.TimerRemove,o.category={name:"scripting"},o.startTime=Date.now(),o.data={timerId:t,timeout:n,singleShot:r},h(o,4),p.wi.TimelineNotify.addRecordToTimeline(o)},e.addRecord_TimerFire=function(t,n,r){var o;if(e.isRunning())return o={},o.type=l.TimerFire,o.category={name:"scripting"},o.startTime=Date.now(),o.data={timerId:t,timeout:n,singleShot:r},p.wi.TimelineNotify.addRecordToTimeline(o)},e.addRecord_XHRReadyStateChange=function(t,n,r,o){var a,i,s,d;if(e.isRunning()){try{a=o.getResponseHeader("Content-Length"),a=parseInt(a),i=o.getResponseHeader("Content-Type")}catch(m){s=m,a=0,i="unknown"}if(d={},d.startTime=Date.now(),d.category={name:"loading"},o.readyState===XMLHttpRequest.OPENED)d.type=l.ResourceSendRequest,d.data={identifier:r,url:n,requestMethod:t};else{if(o.readyState!==XMLHttpRequest.DONE)return;d.type=l.ResourceReceiveResponse,d.data={identifier:r,statusCode:o.status,mimeType:i,url:n},isNaN(a)||(d.data.expectedContentLength=a)}return p.wi.TimelineNotify.addRecordToTimeline(d)}},e.installGlobalListeners=function(){return window.applicationCache&&(applicationCache.addEventListener("checking",function(t){return e.addRecord_EventDispatch(t,"applicationCache.checking","loading")},!1),applicationCache.addEventListener("error",function(t){return e.addRecord_EventDispatch(t,"applicationCache.error","loading")},!1),applicationCache.addEventListener("noupdate",function(t){return e.addRecord_EventDispatch(t,"applicationCache.noupdate","loading");
},!1),applicationCache.addEventListener("downloading",function(t){return e.addRecord_EventDispatch(t,"applicationCache.downloading","loading")},!1),applicationCache.addEventListener("progress",function(t){return e.addRecord_EventDispatch(t,"applicationCache.progress","loading")},!1),applicationCache.addEventListener("updateready",function(t){return e.addRecord_EventDispatch(t,"applicationCache.updateready","loading")},!1),applicationCache.addEventListener("cached",function(t){return e.addRecord_EventDispatch(t,"applicationCache.cached","loading")},!1),applicationCache.addEventListener("obsolete",function(t){return e.addRecord_EventDispatch(t,"applicationCache.obsolete","loading")},!1)),window.addEventListener("error",function(t){return e.addRecord_EventDispatch(t,"window.error")},!1),window.addEventListener("hashchange",function(t){return e.addRecord_EventDispatch(t,"window.hashchange")},!1),window.addEventListener("message",function(t){return e.addRecord_EventDispatch(t,"window.message")},!1),window.addEventListener("offline",function(t){return e.addRecord_EventDispatch(t,"window.offline")},!1),window.addEventListener("online",function(t){return e.addRecord_EventDispatch(t,"window.online")},!1),window.addEventListener("scroll",function(t){return e.addRecord_EventDispatch(t,"window.scroll")},!1)},e.installNativeHooks=function(){return a.window_setInterval.addHooks({before:function(e,t){var n,r;return n=t[0],"function"==typeof n?(r=t[1],n=y(n,r,!1),t[0]=n,this.userData={},this.userData.code=n,this.userData.interval=r):void 0},after:function(e,t,n){var r,o;if(this.userData&&(r=this.userData.code,"function"==typeof r))return o=n,r.__timerId=o,f(o,this.userData.interval,!1)}}),a.window_clearInterval.addHooks({before:function(e,t){var n;return n=t[0],v(n,!1)}}),a.window_setTimeout.addHooks({before:function(e,t){var n,r;return n=t[0],"function"==typeof n?(r=t[1],n=y(n,r,!0),t[0]=n,this.userData={},this.userData.code=n,this.userData.interval=r):void 0},after:function(e,t,n){var r,o;if(this.userData&&(r=this.userData.code,"function"==typeof r))return o=n,r.__timerId=o,f(o,this.userData.interval,!0)}}),a.window_clearTimeout.addHooks({before:function(e,t){var n;return n=t[0],v(n,!0)}}),a.XMLHttpRequest_open.addHooks({before:function(e,t){var n;return n=e,i.getId(n),n.__weinre_method=t[0],n.__weinre_url=t[1],n.addEventListener("readystatechange",g(n),!1)}})},e}(),g=function(e){return function(t){return m.addRecord_XHRReadyStateChange(e.__weinre_method,e.__weinre_url,i.getId(e),e)}},f=function(e,t,n){var r;return r=n?u:c,r[e]={id:e,timeout:t,singleShot:n},m.addRecord_TimerInstall(e,t,n)},v=function(e,t){var n,r;return r=t?u:c,(n=r[e])?(m.addRecord_TimerRemove(e,n.timeout,t),delete r[e]):void 0},y=function(e,t,n){var r;return"function"!=typeof e?e:(r=function(){var r,o;return o=e.apply(this,arguments),r=arguments.callee.__timerId,m.addRecord_TimerFire(r,t,n),o},r.displayName=e.name||e.displayName,r)},h=function(e,t){var n,r,o;for(t||(t=1),r=new d(arguments).trace,e.stackTrace=[],n=t,o=[];n<r.length;)e.stackTrace.push({functionName:r[n],scriptName:"",lineNumber:""}),o.push(n++);return o},m.installGlobalListeners(),m.installNativeHooks(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WeinreExtraClientCommandsImpl",function(e,t,n){var r,o,a,i;o=e("../common/Weinre"),i=e("./WiDatabaseImpl"),r=e("./Console"),n.exports=a=function(){function e(){}return e.prototype.getDatabases=function(e){var t;if(e)return t=i.getDatabases(),o.WeinreTargetCommands.sendClientCallback(e,[t])},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WeinreTargetEventsImpl",function(e,t,n){var r,o,a,i;a=e("../common/Weinre"),r=e("../common/Callback"),o=e("./Console"),n.exports=i=function(){function e(){}return e.prototype.connectionCreated=function(e,t){var n;return n="weinre: target "+t+" connected to client "+e,a.logInfo(n),a.target.whenBodyReady(this,[],function(){var e;return e=o.useRemote(!0),a.target.setDocument(),a.wi.TimelineNotify.timelineProfilerWasStopped(),a.wi.DOMStorage.initialize()})},e.prototype.connectionDestroyed=function(e,t){var n,r;return n="weinre: target "+t+" disconnected from client "+e,a.logInfo(n),r=o.useRemote(!1)},e.prototype.sendCallback=function(e,t){return r.invoke(e,t)},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiConsoleImpl",function(e,t,n){var r,o;r=e("../common/Weinre"),n.exports=o=function(){function e(){this.messagesEnabled=!0}return e.prototype.setConsoleMessagesEnabled=function(e,t){var n;return n=this.messagesEnabled,this.messagesEnabled=e,t?r.WeinreTargetCommands.sendClientCallback(t,[n]):void 0},e.prototype.clearConsoleMessages=function(e){return r.wi.ConsoleNotify.consoleMessagesCleared(),e?r.WeinreTargetCommands.sendClientCallback(e,[]):void 0},e.prototype.setMonitoringXHREnabled=function(e,t){return t?r.WeinreTargetCommands.sendClientCallback(t,[]):void 0},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiCSSImpl",function(e,t,n){var r,o;r=e("../common/Weinre"),n.exports=o=function(){function e(){this.dummyComputedStyle=!1}return e.prototype.getStylesForNode=function(e,t){var n,o,a,i,s;if(s={},o=r.nodeStore.getNode(e),!o)return void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);for(n=this.dummyComputedStyle?{styleId:null,properties:[],shorthandValues:[],cssProperties:[]}:r.cssStore.getComputedStyle(o),s={inlineStyle:r.cssStore.getInlineStyle(o),computedStyle:n,matchedCSSRules:r.cssStore.getMatchedCSSRules(o),styleAttributes:r.cssStore.getStyleAttributes(o),pseudoElements:r.cssStore.getPseudoElements(o),inherited:[]},a=o.parentNode;a;)i={inlineStyle:r.cssStore.getInlineStyle(a),matchedCSSRules:r.cssStore.getMatchedCSSRules(a)},s.inherited.push(i),a=a.parentNode;return t?r.WeinreTargetCommands.sendClientCallback(t,[s]):void 0},e.prototype.getComputedStyleForNode=function(e,t){var n,o;return(n=r.nodeStore.getNode(e))?(o=r.cssStore.getComputedStyle(n),t?r.WeinreTargetCommands.sendClientCallback(t,[o]):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.getInlineStyleForNode=function(e,t){var n,o;return(n=r.nodeStore.getNode(e))?(o=r.cssStore.getInlineStyle(n),t?r.WeinreTargetCommands.sendClientCallback(t,[o]):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.getAllStyles=function(e){return r.notImplemented(arguments.callee.signature)},e.prototype.getStyleSheet=function(e,t){return r.notImplemented(arguments.callee.signature)},e.prototype.getStyleSheetText=function(e,t){return r.notImplemented(arguments.callee.signature)},e.prototype.setStyleSheetText=function(e,t,n){return r.notImplemented(arguments.callee.signature)},e.prototype.setPropertyText=function(e,t,n,o,a){var i;return i=r.cssStore.setPropertyText(e,t,n,o),a?r.WeinreTargetCommands.sendClientCallback(a,[i]):void 0},e.prototype.toggleProperty=function(e,t,n,o){var a;return a=r.cssStore.toggleProperty(e,t,n),o?r.WeinreTargetCommands.sendClientCallback(o,[a]):void 0},e.prototype.setRuleSelector=function(e,t,n){return r.notImplemented(arguments.callee.signature)},e.prototype.addRule=function(e,t,n){return r.notImplemented(arguments.callee.signature)},e.prototype.querySelectorAll=function(e,t,n){return r.notImplemented(arguments.callee.signature)},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiDatabaseImpl",function(e,t,n){var r,o,a,i,s,d,m,l,c,u,p,h,f,g,y,v,w;i=e("../common/Weinre"),o=e("../common/IDGenerator"),r=e("./HookSites"),a=e("./SqlStepper"),y={},w={},n.exports=s=function(){function e(){window.openDatabase&&r.window_openDatabase.addHooks({after:function(e,t,n){var r,o;if(n)return r=t[0],o=t[1],d(n,r,o)}})}return e.getDatabases=function(){var e,t;t=[];for(e in y)t.push(y[e]);return t},e.prototype.getDatabaseTableNames=function(e,t){var n,r;return(n=m(e))?(r=a([f,g]),r.callback=t,r.run(n,v)):void 0},e.prototype.executeSQL=function(e,t,n){var r,s,d;return(r=m(e))?(d=i.targetDescription.channel+"-"+o.next(),s=a([p,h]),s.txid=d,s.query=t,s.callback=n,s.run(r,u),n?i.WeinreTargetCommands.sendClientCallback(n,[!0,d]):void 0):void 0},e}(),v=function(e){return console.log("SQL Error "+e.code+": "+e.message)},f=function(){return this.executeSql("SELECT name FROM sqlite_master WHERE type='table'")},g=function(e){var t,n,r,o;for(o=e.rows,r=[],t=0;t<o.length;)n=o.item(t).name,"__WebKitDatabaseInfoTable__"!==n?(r.push(n),t++):t++;return i.WeinreTargetCommands.sendClientCallback(this.callback,[r])},p=function(){return this.executeSql(this.query)},h=function(e){var t,n,r,o,a,s,d;for(t=[],d=[],s=e.rows,n=0;n<s.length;){if(a=s.item(n),0===n)for(o in a)t.push(o);for(r=0;r<t.length;)d.push(a[t[r]]),r++;n++}return i.wi.DatabaseNotify.sqlTransactionSucceeded(this.txid,t,d)},u=function(e){var t;return t={code:e.code,message:e.message},i.wi.DatabaseNotify.sqlTransactionFailed(this.txid,t)},m=function(e){var t;return t=y[e],t?t.db:null},l=function(e){return y[e]},c=function(e){return w[e]},d=function(e,t,n){var r,a;return(a=c(t))?a:(a={},a.id=o.next(),a.domain=window.location.origin,a.name=t,a.version=n,a.db=e,y[a.id]=a,w[t]=a,r={},r.id=a.id,r.domain=a.domain,r.name=t,r.version=n,i.WeinreExtraTargetEvents.databaseOpened(r))},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiDOMImpl",function(e,t,n){var r,o;r=e("../common/Weinre"),n.exports=o=function(){function e(){}return e.prototype.getChildNodes=function(e,t){var n,o;return(o=r.nodeStore.getNode(e))?(n=r.nodeStore.serializeNodeChildren(o,1),r.wi.DOMNotify.setChildNodes(e,n),t?r.WeinreTargetCommands.sendClientCallback(t):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.setAttribute=function(e,t,n,o){var a;return(a=r.nodeStore.getNode(e))?(a.setAttribute(t,n),o?r.WeinreTargetCommands.sendClientCallback(o):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid elementId: "+e)},e.prototype.removeAttribute=function(e,t,n){var o;return(o=r.nodeStore.getNode(e))?(o.removeAttribute(t),n?r.WeinreTargetCommands.sendClientCallback(n):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid elementId: "+e)},e.prototype.setTextNodeValue=function(e,t,n){var o;return(o=r.nodeStore.getNode(e))?(o.nodeValue=t,n?r.WeinreTargetCommands.sendClientCallback(n):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.getEventListenersForNode=function(e,t){return r.notImplemented(arguments.callee.signature)},e.prototype.copyNode=function(e,t){return r.notImplemented(arguments.callee.signature)},e.prototype.removeNode=function(e,t){var n;return(n=r.nodeStore.getNode(e))?n.parentNode?(n.parentNode.removeChild(n),t?r.WeinreTargetCommands.sendClientCallback(t):void 0):void r.logWarning(arguments.callee.signature+" passed a parentless node: "+n):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.changeTagName=function(e,t,n){return r.notImplemented(arguments.callee.signature)},e.prototype.getOuterHTML=function(e,t){var n,o;return(n=r.nodeStore.getNode(e))?(o=n.outerHTML,t?r.WeinreTargetCommands.sendClientCallback(t,[o]):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.setOuterHTML=function(e,t,n){var o;return(o=r.nodeStore.getNode(e))?(o.outerHTML=t,n?r.WeinreTargetCommands.sendClientCallback(n):void 0):void r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.addInspectedNode=function(e,t){return r.nodeStore.addInspectedNode(e),t?r.WeinreTargetCommands.sendClientCallback(t):void 0},e.prototype.performSearch=function(e,t,n){return r.notImplemented(arguments.callee.signature)},e.prototype.searchCanceled=function(e){return r.notImplemented(arguments.callee.signature)},e.prototype.pushNodeByPathToFrontend=function(e,t){var n,o,a,i,s,d,m,l,c,u;for(l=e.split(","),o=document,a=null,d=r.nodeStore.getNodeId(o),this.getChildNodes(d),i=c=0,u=l.length;u>c;i=c+=2){if(s=parseInt(l[i]),m=l[i+1],isNaN(s))return;if(n=r.nodeStore.childNodeIds(o),a=n[s],!a)return;if(this.getChildNodes(a),o=r.nodeStore.getNode(a),o.nodeName!==m)return}return t&&a?r.WeinreTargetCommands.sendClientCallback(t,[a]):void 0},e.prototype.resolveNode=function(e,t){var n;return n=r.injectedScript.resolveNode(e),t?r.WeinreTargetCommands.sendClientCallback(t,[n]):void 0},e.prototype.getNodeProperties=function(e,t,n){var o;return t=JSON.stringify(t),o=r.injectedScript.getNodeProperties(e,t),n?r.WeinreTargetCommands.sendClientCallback(n,[o]):void 0},e.prototype.getNodePrototypes=function(e,t){var n;return n=r.injectedScript.getNodePrototypes(e),t?r.WeinreTargetCommands.sendClientCallback(t,[n]):void 0},e.prototype.pushNodeToFrontend=function(e,t){var n;return e=JSON.stringify(e),n=r.injectedScript.pushNodeToFrontend(e),t?r.WeinreTargetCommands.sendClientCallback(t,[n]):void 0},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiDOMStorageImpl",function(e,t,n){var r,o,a,i,s;o=e("../common/Weinre"),r=e("./HookSites"),n.exports=a=function(){function e(){}return e.prototype.getDOMStorageEntries=function(e,t){var n,r,a,s,d,m;if(d=i(e),!d)return void o.logWarning(arguments.callee.signature+" passed an invalid storageId: "+e);for(s=[],a=d.length,n=0;a>n;)r=d.key(n),m=d.getItem(r),s.push([r,m]),n++;return t?o.WeinreTargetCommands.sendClientCallback(t,[s]):void 0},e.prototype.setDOMStorageItem=function(e,t,n,r){var a,s,d;if(d=i(e),!d)return void o.logWarning(arguments.callee.signature+" passed an invalid storageId: "+e);s=!0;try{HookLib.ignoreHooks(function(){return d===window.localStorage?localStorage.setItem(t,n):d===window.sessionStorage?sessionStorage.setItem(t,n):void 0})}catch(m){a=m,s=!1}return r?o.WeinreTargetCommands.sendClientCallback(r,[s]):void 0},e.prototype.removeDOMStorageItem=function(e,t,n){var r,a,s;if(s=i(e),!s)return void o.logWarning(arguments.callee.signature+" passed an invalid storageId: "+e);a=!0;try{HookLib.ignoreHooks(function(){return s===window.localStorage?localStorage.removeItem(t):s===window.sessionStorage?sessionStorage.removeItem(t):void 0})}catch(d){r=d,a=!1}return n?o.WeinreTargetCommands.sendClientCallback(n,[a]):void 0},e.prototype.initialize=function(){return window.localStorage&&(o.wi.DOMStorageNotify.addDOMStorage({id:1,host:window.location.host,isLocalStorage:!0}),r.LocalStorage_setItem.addHooks({after:function(){return s({storageArea:window.localStorage})}}),r.LocalStorage_removeItem.addHooks({after:function(){return s({storageArea:window.localStorage})}}),r.LocalStorage_clear.addHooks({after:function(){return s({storageArea:window.localStorage})}})),window.sessionStorage&&(o.wi.DOMStorageNotify.addDOMStorage({id:2,host:window.location.host,isLocalStorage:!1}),r.SessionStorage_setItem.addHooks({after:function(){return s({storageArea:window.sessionStorage})}}),r.SessionStorage_removeItem.addHooks({after:function(){return s({storageArea:window.sessionStorage})}}),r.SessionStorage_clear.addHooks({after:function(){return s({storageArea:window.sessionStorage})}})),document.addEventListener("storage",s,!1)},e}(),i=function(e){return 1===e?window.localStorage:2===e?window.sessionStorage:null},s=function(e){var t;if(e.storageArea===window.localStorage)t=1;else{if(e.storageArea!==window.sessionStorage)return;t=2}return o.wi.DOMStorageNotify.updateDOMStorage(t)},e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiInspectorImpl",function(e,t,n){var r,o,a;o=e("../common/Weinre"),r=e("../target/Timeline"),n.exports=a=function(){function e(){}return e.prototype.reloadPage=function(e){return e&&o.WeinreTargetCommands.sendClientCallback(e),window.location.reload()},e.prototype.highlightDOMNode=function(e,t){var n;return(n=o.nodeStore.getNode(e))?(o.elementHighlighter.on(n),t?o.WeinreTargetCommands.sendClientCallback(t):void 0):void o.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e)},e.prototype.hideDOMNodeHighlight=function(e){return o.elementHighlighter.off(),e?o.WeinreTargetCommands.sendClientCallback(e):void 0},e.prototype.startTimelineProfiler=function(e){return r.start(),o.wi.TimelineNotify.timelineProfilerWasStarted(),e?o.WeinreTargetCommands.sendClientCallback(e):void 0},e.prototype.stopTimelineProfiler=function(e){return r.stop(),o.wi.TimelineNotify.timelineProfilerWasStopped(),e?o.WeinreTargetCommands.sendClientCallback(e):void 0},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.define("weinre/target/WiRuntimeImpl",function(e,t,n){var r,o;r=e("../common/Weinre"),n.exports=o=function(){function e(){}return e.prototype.evaluate=function(e,t,n,o){var a;return a=r.injectedScript.evaluate(e,t,n),o?r.WeinreTargetCommands.sendClientCallback(o,[a]):void 0},e.prototype.getCompletions=function(e,t,n){var o;return o=r.injectedScript.getCompletions(e,t),n?r.WeinreTargetCommands.sendClientCallback(n,[o]):void 0},e.prototype.getProperties=function(e,t,n,o){var a;return e=JSON.stringify(e),a=r.injectedScript.getProperties(e,t,n),o?r.WeinreTargetCommands.sendClientCallback(o,[a]):void 0},e.prototype.setPropertyValue=function(e,t,n,o){var a;return e=JSON.stringify(e),a=r.injectedScript.setPropertyValue(e,t,n),o?r.WeinreTargetCommands.sendClientCallback(o,[a]):void 0},e.prototype.releaseWrapperObjectGroup=function(e,t,n){var o;return o=r.injectedScript.releaseWrapperObjectGroup(t),n?r.WeinreTargetCommands.sendClientCallback(n,[o]):void 0},e}(),e("../common/MethodNamer").setNamesForClass(n.exports)}),modjewel.require("weinre/common/Weinre").addIDLs([{interfaces:[{name:"InjectedScriptHost",methods:[{name:"clearConsoleMessages",parameters:[]},{name:"copyText",parameters:[{name:"text"}]},{parameters:[{name:"nodeId"}],name:"nodeForId"},{parameters:[{name:"node"},{name:"withChildren"},{name:"selectInUI"}],name:"pushNodePathToFrontend"},{name:"inspectedNode",parameters:[{name:"num"}]},{parameters:[{name:"object"}],name:"internalConstructorName"},{parameters:[],name:"currentCallFrame"},{parameters:[{name:"database"}],name:"selectDatabase"},{parameters:[{name:"storage"}],name:"selectDOMStorage"},{name:"didCreateWorker",parameters:[{name:"id"},{name:"url"},{name:"isFakeWorker"}]},{name:"didDestroyWorker",parameters:[{name:"id"}]},{name:"nextWorkerId",parameters:[]}]}],name:"core"},{interfaces:[{name:"Inspector",methods:[{name:"addScriptToEvaluateOnLoad",parameters:[{name:"scriptSource"}]},{name:"removeAllScriptsToEvaluateOnLoad",parameters:[]},{name:"reloadPage",parameters:[{name:"ignoreCache"}]},{name:"populateScriptObjects",parameters:[]},{name:"openInInspectedWindow",parameters:[{name:"url"}]},{name:"setSearchingForNode",parameters:[{name:"enabled"}]},{name:"didEvaluateForTestInFrontend",parameters:[{name:"testCallId"},{name:"jsonResult"}]},{name:"highlightDOMNode",parameters:[{name:"nodeId"}]},{name:"hideDOMNodeHighlight",parameters:[]},{name:"highlightFrame",parameters:[{name:"frameId"}]},{name:"hideFrameHighlight",parameters:[]},{name:"setUserAgentOverride",parameters:[{name:"userAgent"}]},{name:"getCookies",parameters:[]},{name:"deleteCookie",parameters:[{name:"cookieName"},{name:"domain"}]},{name:"startTimelineProfiler",parameters:[]},{name:"stopTimelineProfiler",parameters:[]},{name:"enableDebugger",parameters:[]},{name:"disableDebugger",parameters:[]},{name:"enableProfiler",parameters:[]},{name:"disableProfiler",parameters:[]},{name:"startProfiling",parameters:[]},{name:"stopProfiling",parameters:[]}]},{name:"Runtime",methods:[{name:"evaluate",parameters:[{name:"expression"},{name:"objectGroup"},{name:"includeCommandLineAPI"}]},{name:"getCompletions",parameters:[{name:"expression"},{name:"includeCommandLineAPI"}]},{name:"getProperties",parameters:[{name:"objectId"},{name:"ignoreHasOwnProperty"},{name:"abbreviate"}]},{name:"setPropertyValue",parameters:[{name:"objectId"},{name:"propertyName"},{name:"expression"}]},{name:"releaseWrapperObjectGroup",parameters:[{name:"injectedScriptId"},{name:"objectGroup"}]}]},{name:"InjectedScript",methods:[{name:"evaluateOnSelf",parameters:[{name:"functionBody"},{name:"argumentsArray"}]}]},{name:"Console",methods:[{name:"setConsoleMessagesEnabled",parameters:[{name:"enabled"}]},{name:"clearConsoleMessages",parameters:[]},{name:"setMonitoringXHREnabled",parameters:[{name:"enabled"}]}]},{name:"Network",methods:[{name:"cachedResources",parameters:[]},{name:"resourceContent",parameters:[{name:"frameId"},{name:"url"},{name:"base64Encode"}]},{name:"setExtraHeaders",parameters:[{name:"headers"}]}]},{name:"Database",methods:[{name:"getDatabaseTableNames",parameters:[{name:"databaseId"}]},{name:"executeSQL",parameters:[{name:"databaseId"},{name:"query"}]}]},{name:"DOMStorage",methods:[{name:"getDOMStorageEntries",parameters:[{name:"storageId"}]},{name:"setDOMStorageItem",parameters:[{name:"storageId"},{name:"key"},{name:"value"}]},{name:"removeDOMStorageItem",parameters:[{name:"storageId"},{name:"key"}]}]},{name:"ApplicationCache",methods:[{name:"getApplicationCaches",parameters:[]}]},{name:"DOM",methods:[{name:"getChildNodes",parameters:[{name:"nodeId"}]},{name:"setAttribute",parameters:[{name:"elementId"},{name:"name"},{name:"value"}]},{name:"removeAttribute",parameters:[{name:"elementId"},{name:"name"}]},{name:"setTextNodeValue",parameters:[{name:"nodeId"},{name:"value"}]},{name:"getEventListenersForNode",parameters:[{name:"nodeId"}]},{name:"copyNode",parameters:[{name:"nodeId"}]},{name:"removeNode",parameters:[{name:"nodeId"}]},{name:"changeTagName",parameters:[{name:"nodeId"},{name:"newTagName"}]},{name:"getOuterHTML",parameters:[{name:"nodeId"}]},{name:"setOuterHTML",parameters:[{name:"nodeId"},{name:"outerHTML"}]},{name:"addInspectedNode",parameters:[{name:"nodeId"}]},{name:"performSearch",parameters:[{name:"query"},{name:"runSynchronously"}]},{name:"searchCanceled",parameters:[]},{name:"pushNodeByPathToFrontend",parameters:[{name:"path"}]},{name:"resolveNode",parameters:[{name:"nodeId"}]},{name:"getNodeProperties",parameters:[{name:"nodeId"},{name:"propertiesArray"}]},{name:"getNodePrototypes",parameters:[{name:"nodeId"}]},{name:"pushNodeToFrontend",parameters:[{name:"objectId"}]}]},{name:"CSS",methods:[{name:"getStylesForNode",parameters:[{name:"nodeId"}]},{name:"getComputedStyleForNode",parameters:[{name:"nodeId"}]},{name:"getInlineStyleForNode",parameters:[{name:"nodeId"}]},{name:"getAllStyles",parameters:[]},{name:"getStyleSheet",parameters:[{name:"styleSheetId"}]},{name:"getStyleSheetText",parameters:[{name:"styleSheetId"}]},{name:"setStyleSheetText",parameters:[{name:"styleSheetId"},{name:"text"}]},{name:"setPropertyText",parameters:[{name:"styleId"},{name:"propertyIndex"},{name:"text"},{name:"overwrite"}]},{name:"toggleProperty",parameters:[{name:"styleId"},{name:"propertyIndex"},{name:"disable"}]},{name:"setRuleSelector",parameters:[{name:"ruleId"},{name:"selector"}]},{name:"addRule",parameters:[{name:"contextNodeId"},{name:"selector"}]},{name:"getSupportedCSSProperties",parameters:[]},{name:"querySelectorAll",parameters:[{name:"documentId"},{name:"selector"}]}]},{name:"Timeline",methods:[]},{name:"Debugger",methods:[{name:"activateBreakpoints",parameters:[]},{name:"deactivateBreakpoints",parameters:[]},{name:"setJavaScriptBreakpoint",parameters:[{name:"url"},{name:"lineNumber"},{name:"columnNumber"},{name:"condition"},{name:"enabled"}]},{name:"setJavaScriptBreakpointBySourceId",parameters:[{name:"sourceId"},{name:"lineNumber"},{name:"columnNumber"},{name:"condition"},{name:"enabled"}]},{name:"removeJavaScriptBreakpoint",parameters:[{name:"breakpointId"}]},{name:"continueToLocation",parameters:[{name:"sourceId"},{name:"lineNumber"},{name:"columnNumber"}]},{name:"stepOver",parameters:[]},{name:"stepInto",parameters:[]},{name:"stepOut",parameters:[]},{name:"pause",parameters:[]},{name:"resume",parameters:[]},{name:"editScriptSource",parameters:[{name:"sourceID"},{name:"newContent"}]},{name:"getScriptSource",parameters:[{name:"sourceID"}]},{name:"setPauseOnExceptionsState",parameters:[{name:"pauseOnExceptionsState"}]},{name:"evaluateOnCallFrame",parameters:[{name:"callFrameId"},{name:"expression"},{name:"objectGroup"},{name:"includeCommandLineAPI"}]},{name:"getCompletionsOnCallFrame",parameters:[{name:"callFrameId"},{name:"expression"},{name:"includeCommandLineAPI"}]}]},{name:"BrowserDebugger",methods:[{name:"setAllBrowserBreakpoints",parameters:[{name:"breakpoints"}]},{name:"setDOMBreakpoint",parameters:[{name:"nodeId"},{name:"type"}]},{name:"removeDOMBreakpoint",parameters:[{name:"nodeId"},{name:"type"}]},{name:"setEventListenerBreakpoint",parameters:[{name:"eventName"}]},{name:"removeEventListenerBreakpoint",parameters:[{name:"eventName"}]},{name:"setXHRBreakpoint",parameters:[{name:"url"}]},{name:"removeXHRBreakpoint",parameters:[{name:"url"}]}]},{name:"Profiler",methods:[{name:"getProfileHeaders",parameters:[]},{name:"getProfile",parameters:[{name:"type"},{name:"uid"}]},{name:"removeProfile",parameters:[{name:"type"},{name:"uid"}]},{name:"clearProfiles",parameters:[]},{name:"takeHeapSnapshot",parameters:[{name:"detailed"}]}]},{name:"InspectorNotify",methods:[{parameters:[],name:"frontendReused"},{parameters:[{name:"nodeIds"}],name:"addNodesToSearchResult"},{parameters:[],name:"bringToFront"},{parameters:[],name:"disconnectFromBackend"},{parameters:[{name:"url"}],name:"inspectedURLChanged"},{parameters:[{name:"time"}],name:"domContentEventFired"},{parameters:[{name:"time"}],name:"loadEventFired"},{parameters:[],name:"reset"},{parameters:[{name:"panel"}],name:"showPanel"},{parameters:[{name:"testCallId"},{name:"script"}],name:"evaluateForTestInFrontend"},{parameters:[{name:"nodeId"}],name:"updateFocusedNode"}]},{name:"ConsoleNotify",methods:[{parameters:[{name:"messageObj"}],name:"addConsoleMessage"},{parameters:[{name:"count"}],name:"updateConsoleMessageExpiredCount"},{parameters:[{name:"count"}],name:"updateConsoleMessageRepeatCount"},{parameters:[],name:"consoleMessagesCleared"}]},{name:"NetworkNotify",methods:[{parameters:[{name:"frameId"}],name:"frameDetachedFromParent"},{parameters:[{name:"identifier"},{name:"url"},{name:"loader"},{name:"callStack"}],name:"identifierForInitialRequest"},{parameters:[{name:"identifier"},{name:"time"},{name:"request"},{name:"redirectResponse"}],name:"willSendRequest"},{parameters:[{name:"identifier"}],name:"markResourceAsCached"},{parameters:[{name:"identifier"},{name:"time"},{name:"resourceType"},{name:"response"}],name:"didReceiveResponse"},{parameters:[{name:"identifier"},{name:"time"},{name:"lengthReceived"}],name:"didReceiveContentLength"},{parameters:[{name:"identifier"},{name:"finishTime"}],name:"didFinishLoading"},{parameters:[{name:"identifier"},{name:"time"},{name:"localizedDescription"}],name:"didFailLoading"},{parameters:[{name:"time"},{name:"resource"}],name:"didLoadResourceFromMemoryCache"},{parameters:[{name:"identifier"},{name:"sourceString"},{name:"type"}],name:"setInitialContent"},{parameters:[{name:"frame"},{name:"loader"}],name:"didCommitLoadForFrame"},{parameters:[{name:"identifier"},{name:"requestURL"}],name:"didCreateWebSocket"},{parameters:[{name:"identifier"},{name:"time"},{name:"request"}],name:"willSendWebSocketHandshakeRequest"},{parameters:[{name:"identifier"},{name:"time"},{name:"response"}],name:"didReceiveWebSocketHandshakeResponse"},{parameters:[{name:"identifier"},{name:"time"}],name:"didCloseWebSocket"}]},{name:"DatabaseNotify",methods:[{parameters:[{name:"database"}],name:"addDatabase"},{parameters:[{name:"databaseId"}],name:"selectDatabase"},{parameters:[{name:"transactionId"},{name:"columnNames"},{name:"values"}],name:"sqlTransactionSucceeded"},{parameters:[{name:"transactionId"},{name:"sqlError"}],name:"sqlTransactionFailed"}]},{name:"DOMStorageNotify",methods:[{parameters:[{name:"storage"}],name:"addDOMStorage"},{parameters:[{name:"storageId"}],name:"updateDOMStorage"},{parameters:[{name:"storageId"}],name:"selectDOMStorage"}]},{name:"ApplicationCacheNotify",methods:[{parameters:[{name:"status"}],name:"updateApplicationCacheStatus"},{parameters:[{name:"isNowOnline"}],name:"updateNetworkState"}]},{name:"DOMNotify",methods:[{parameters:[{name:"root"}],name:"setDocument"},{parameters:[{name:"id"},{name:"attributes"}],name:"attributesUpdated"},{parameters:[{name:"id"},{name:"newValue"}],name:"characterDataModified"},{parameters:[{name:"parentId"},{name:"nodes"}],name:"setChildNodes"},{parameters:[{name:"root"}],name:"setDetachedRoot"},{parameters:[{name:"id"},{name:"newValue"}],name:"childNodeCountUpdated"},{parameters:[{name:"parentId"},{name:"prevId"},{name:"node"}],name:"childNodeInserted"},{parameters:[{name:"parentId"},{name:"id"}],name:"childNodeRemoved"}]},{name:"TimelineNotify",methods:[{parameters:[],name:"timelineProfilerWasStarted"},{parameters:[],name:"timelineProfilerWasStopped"},{parameters:[{name:"record"}],name:"addRecordToTimeline"}]},{name:"DebuggerNotify",methods:[{parameters:[],name:"debuggerWasEnabled"},{parameters:[],name:"debuggerWasDisabled"},{parameters:[{name:"sourceID"},{name:"url"},{name:"lineOffset"},{name:"columnOffset"},{name:"length"},{name:"scriptWorldType"}],name:"parsedScriptSource"},{parameters:[{name:"url"},{name:"data"},{name:"firstLine"},{name:"errorLine"},{name:"errorMessage"}],name:"failedToParseScriptSource"},{parameters:[{name:"breakpointId"},{name:"sourceId"},{name:"lineNumber"},{name:"columnNumber"}],name:"breakpointResolved"},{parameters:[{name:"details"}],name:"pausedScript"},{parameters:[],name:"resumedScript"},{parameters:[{name:"id"},{name:"url"},{name:"isShared"}],name:"didCreateWorker"},{parameters:[{name:"id"}],name:"didDestroyWorker"}]},{name:"ProfilerNotify",methods:[{parameters:[],name:"profilerWasEnabled"},{parameters:[],name:"profilerWasDisabled"},{parameters:[{name:"header"}],name:"addProfileHeader"},{parameters:[{name:"uid"},{name:"chunk"}],name:"addHeapSnapshotChunk"},{parameters:[{name:"uid"}],name:"finishHeapSnapshot"},{parameters:[{name:"isProfiling"}],name:"setRecordingProfile"},{parameters:[],name:"resetProfiles"},{parameters:[{name:"done"},{name:"total"}],name:"reportHeapSnapshotProgress"}]}],name:"core"},{interfaces:[{name:"InspectorFrontendHost",methods:[{name:"loaded",parameters:[]},{name:"closeWindow",parameters:[]},{name:"disconnectFromBackend",parameters:[]},{name:"bringToFront",parameters:[]},{name:"inspectedURLChanged",parameters:[{name:"newURL"}]},{name:"requestAttachWindow",parameters:[]},{name:"requestDetachWindow",parameters:[]},{name:"setAttachedWindowHeight",parameters:[{name:"height"}]},{name:"moveWindowBy",parameters:[{name:"x"},{name:"y"}]},{name:"setExtensionAPI",parameters:[{name:"script"}]},{name:"localizedStringsURL",parameters:[]},{name:"hiddenPanels",parameters:[]},{name:"copyText",parameters:[{name:"text"}]},{parameters:[],name:"platform"},{parameters:[],name:"port"},{parameters:[{name:"event"},{name:"items"}],name:"showContextMenu"},{name:"sendMessageToBackend",parameters:[{name:"message"}]}]}],name:"core"},{interfaces:[{name:"WeinreClientCommands",methods:[{name:"registerClient",parameters:[]},{name:"getTargets",parameters:[]},{name:"getClients",parameters:[]},{name:"connectTarget",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"disconnectTarget",parameters:[{name:"clientId"}]},{name:"getExtensions",parameters:[]},{name:"logDebug",parameters:[{name:"message"}]},{name:"logInfo",parameters:[{name:"message"}]},{name:"logWarning",parameters:[{name:"message"}]},{name:"logError",parameters:[{name:"message"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreClientEvents",methods:[{name:"clientRegistered",parameters:[{name:"client"}]},{name:"targetRegistered",parameters:[{name:"target"}]},{name:"clientUnregistered",parameters:[{name:"clientId"}]},{name:"targetUnregistered",parameters:[{name:"targetId"}]},{name:"connectionCreated",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"connectionDestroyed",parameters:[{
name:"clientId"},{name:"targetId"}]},{name:"sendCallback",parameters:[{name:"callbackId"},{name:"result"}]},{name:"serverProperties",parameters:[{name:"properties"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreExtraClientCommands",methods:[{name:"getDatabases",parameters:[]}]}],name:"weinre"},{interfaces:[{name:"WeinreExtraTargetEvents",methods:[{name:"databaseOpened",parameters:[{name:"databaseRecord"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreTargetCommands",methods:[{name:"registerTarget",parameters:[{name:"url"}]},{name:"sendClientCallback",parameters:[{name:"callbackId"},{name:"args"}]},{name:"logDebug",parameters:[{name:"message"}]},{name:"logInfo",parameters:[{name:"message"}]},{name:"logWarning",parameters:[{name:"message"}]},{name:"logError",parameters:[{name:"message"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreTargetEvents",methods:[{name:"connectionCreated",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"connectionDestroyed",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"sendCallback",parameters:[{name:"callbackId"},{name:"result"}]}]}],name:"weinre"}]),modjewel.require("weinre/target/Target").main()}();